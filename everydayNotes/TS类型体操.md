---
highlight: an-old-hope
theme: channing-cyan
---

# TS ä»å…¥é—¨åˆ°ä½“æ“å…¨èƒ½ğŸ¤¸â€

### å‰è¨€

Â Â Â Â ç›¸ä¿¡å¤§å®¶å¯¹`TS`å¹¶ä¸é™Œç”Ÿï¼Œä½†æ˜¯å¯¹äºä¸€äº›å¹³æ—¶ç»´æŠ¤ä¼ ç»Ÿä¸šåŠ¡è¾ƒå¤šï¼Œæ²¡æœ‰æœºä¼šæ·±å…¥å®è·µTSçš„å‰ç«¯erï¼Œé‚£ä¹ˆé¢è¯•çš„æ—¶å€™è¢«é—®åˆ°TSé—®é¢˜ç”šè‡³è¿é¢ç”©æ¥ä¸€é“TSä½“æ“é¢˜å°±ä¸€è„¸æ‡µé€¼äº†ï¼ˆå°¤å…¶æ˜¯å¹³æ—¶`any`å¤§æ³•ç”¨å¾—æ¯”è¾ƒå¤š)ã€‚ä¸ºäº†é¿å…è¿™ç§å°´å°¬ï¼Œæœ¬æ–‡å°±ä»`TS`çš„åŸºç¡€æ¦‚å¿µé…åˆ15é“ç±»å‹ä½“æ“è®­ç»ƒå’Œ15é“é«˜é¢‘é¢è¯•é¢˜æ¥å¸®åŠ©å¤§å®¶å…¥é—¨ã€‚ï¼ˆPSï¼šå¤§ä½¬è¯´TSæ˜¯å›¾çµå®Œå¤‡çš„ï¼Œå¯ä»¥æ•´å„ç§èŠ±æ´»ï¼Œå®ç°ä¸€å¥—ä¸­å›½è±¡æ£‹ä¸åœ¨è¯ä¸‹ï¼ğŸ‚ğŸºï¼‰
[è±¡æ£‹å®ç°åœ°å€](https://zhuanlan.zhihu.com/p/426966480)

### ä»€ä¹ˆæ˜¯ TSï¼Ÿ

Â Â Â Â [TypeScript](https://www.typescriptlang.org/) æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ JavaScript çš„è¶…é›†ï¼Œä¸º JavaScript æ·»åŠ äº†é™æ€ç±»å‹ç³»ç»Ÿã€æ¥å£ã€ç±»ç­‰ç‰¹æ€§ã€‚è¿™ä½¿å¾—å¤§å‹é¡¹ç›®çš„å¼€å‘æ›´åŠ å¯é å’Œå¯ç»´æŠ¤ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­èƒ½å¤Ÿæå‰å‘ç°ä¸€äº›ç±»å‹é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡ã€‚åŒæ—¶ï¼ŒTypeScript å¯ä»¥ç¼–è¯‘æˆçº¯ JavaScriptï¼Œåœ¨ä»»ä½•æ”¯æŒJavaScript çš„ç¯å¢ƒä¸­è¿è¡Œã€‚

*   å¯¹æ¦‚å¿µæ¯”è¾ƒç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥è·³è¿‡æœ¬ç« ï¼Œç›´æ¥[ç‚¹å‡»æ­¤å¤„ç»ƒä½“æ“](#anchor-point)<br>
*   ä½“æ“ä¹Ÿä¸æƒ³ç»ƒçš„å¯ä»¥ç›´æ¥[ç‚¹å‡»æ­¤å¤„çœ‹é¢è¯•çœŸé¢˜](#mszt)

### TypeScript ç±»å‹

åœ¨TypeScriptä¸­ï¼Œå¸¸è§çš„æ•°æ®ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

*   **åŸºæœ¬ç±»å‹**ï¼š

    *   `number`: è¡¨ç¤ºæ•°å­—ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°ã€‚
    *   `string`: è¡¨ç¤ºæ–‡æœ¬å­—ç¬¦ä¸²ã€‚
    *   `boolean`: è¡¨ç¤ºå¸ƒå°”å€¼ï¼Œå³`true`æˆ–`false`ã€‚
    *   `null`ã€`undefined`: åˆ†åˆ«è¡¨ç¤ºnullå’Œundefinedã€‚
    *   `symbol`: è¡¨ç¤ºå”¯ä¸€çš„ã€ä¸å¯å˜çš„å€¼ã€‚

*   **å¤åˆç±»å‹**ï¼š

    *   `array`: è¡¨ç¤ºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨`number[]`æˆ–`Array<number>`æ¥å£°æ˜å…¶ä¸­å…ƒç´ çš„ç±»å‹ã€‚
    *   `tuple`: è¡¨ç¤ºå…ƒç»„ï¼Œç”¨äºè¡¨ç¤ºå›ºå®šæ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚
    *   `enum`: è¡¨ç¤ºæšä¸¾ç±»å‹ï¼Œç”¨äºå®šä¹‰å…·åå¸¸é‡é›†åˆã€‚

*   **å¯¹è±¡ç±»å‹**ï¼š

    *   `object`: è¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œå³é™¤numberã€stringã€booleanã€symbolã€nullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚
    *   `interface`: ç”¨äºæè¿°å¯¹è±¡çš„ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

*   **å‡½æ•°ç±»å‹**ï¼š

    *   `function`: è¡¨ç¤ºå‡½æ•°ç±»å‹ã€‚
    *   `void`: è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚
    *   `any`: è¡¨ç¤ºä»»æ„ç±»å‹ã€‚

*   **é«˜çº§ç±»å‹**ï¼š

    *   `union types`: è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚
    *   `intersection types`: è¡¨ç¤ºä¸€ä¸ªå€¼åŒæ—¶æ‹¥æœ‰å¤šç§ç±»å‹çš„ç‰¹æ€§ã€‚

*   ä»£ç ï¼š

```ts
// å¸ƒå°”ç±»å‹
let isDone: boolean = false;

// æ•°å­—ç±»å‹
let decimal: number = 6;
let hex: number = 0xf00d;
let binary: number = 0b1010;
let octal: number = 0o744;

// å­—ç¬¦ä¸²ç±»å‹
let color: string = "blue";
color = 'red';
let fullName: string = `Bob Bobbington`;
let age: number = 37;
let sentence: string = `Hello, my name is ${fullName}. I'll be ${age + 1} years old next year.`;

// æ•°ç»„ç±»å‹
let list1: number[] = [1, 2, 3];
let list2: Array<number> = [4, 5, 6];

// å…ƒç»„ç±»å‹
let x: [string, number];
x = ['hello', 10];

// æšä¸¾ç±»å‹
enum Color {
    Red,
    Green,
    Blue
}
let c: Color = Color.Green;

// ä»»æ„ç±»å‹
let notSure: any = 4;
notSure = "maybe a string instead";
notSure = false;

// ç©ºå€¼ç±»å‹
function warnUser(): void {
    console.log("This is a warning!");
}

// null å’Œ undefined ç±»å‹
let u: undefined = undefined;
let n: null = null;

// è”åˆç±»å‹
let unionValue: string | number = 'abc';
unionValue = 123;

// äº¤å‰ç±»å‹
interface A {
    aProp: string;
}
interface B {
    bProp: number;
}
let intersectionValue: A & B = { aProp: 'str', bProp: 456 };

// å­—é¢é‡ç±»å‹
let literal: 'red' | 'green' | 'blue' = 'green';

// å‡½æ•°ç±»å‹
function add(a: number, b: number): number {
    return a + b;
}

// å¯¹è±¡ç±»å‹
let obj: { name: string, age: number } = { name: 'Tom', age: 25 };
```

### unknown ç±»å‹ å’Œ neverç±»å‹

å°±åƒæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™Â `any`ï¼Œæ‰€æœ‰ç±»å‹ä¹Ÿéƒ½å¯ä»¥èµ‹å€¼ç»™Â `unknown`ã€‚è¿™ä½¿å¾—Â `unknown`Â æˆä¸º TypeScript ç±»å‹ç³»ç»Ÿçš„å¦ä¸€ç§é¡¶çº§ç±»å‹ï¼ˆå¦ä¸€ç§æ˜¯Â `any`ï¼‰ã€‚<br>
unknownæŒ‡çš„æ˜¯**ä¸å¯é¢„å…ˆå®šä¹‰çš„ç±»å‹**ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œå®ƒå¯ä»¥æ›¿ä»£anyçš„åŠŸèƒ½åŒæ—¶ä¿ç•™é™æ€æ£€æŸ¥çš„èƒ½åŠ›ã€‚
unknownçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ï¼Œé¿å…ä½¿ç”¨anyä½œä¸ºå‡½æ•°çš„å‚æ•°ç±»å‹è€Œå¯¼è‡´çš„é™æ€ç±»å‹æ£€æŸ¥bugï¼š

```ts
function test(input: unknown): number {
  if (Array.isArray(input)) {
    return input.length;    // Pass: è¿™ä¸ªä»£ç å—ä¸­ï¼Œç±»å‹å®ˆå«å·²ç»å°†inputè¯†åˆ«ä¸ºarrayç±»å‹
  }
  return input.length;      // Error: è¿™é‡Œçš„inputè¿˜æ˜¯unknownç±»å‹ï¼Œé™æ€æ£€æŸ¥æŠ¥é”™ã€‚å¦‚æœå…¥å‚æ˜¯anyï¼Œåˆ™ä¼šæ”¾å¼ƒæ£€æŸ¥ç›´æ¥æˆåŠŸï¼Œå¸¦æ¥æŠ¥é”™é£é™©
}
```

æˆ‘ä»¬åœ¨ä¸€äº›æ— æ³•ç¡®å®šå‡½æ•°å‚æ•°ï¼ˆè¿”å›å€¼ï¼‰ç±»å‹ä¸­ unknown ä½¿ç”¨çš„åœºæ™¯éå¸¸å¤š

```ts
// åœ¨ä¸ç¡®å®šå‡½æ•°å‚æ•°çš„ç±»å‹æ—¶
// å°†å‡½æ•°çš„å‚æ•°å£°æ˜ä¸ºunknownç±»å‹è€Œéany
// TSåŒæ ·ä¼šå¯¹äºunknownè¿›è¡Œç±»å‹æ£€æµ‹ï¼Œè€Œanyå°±ä¸ä¼š
function resultValueBySome(val:unknown) { 
  if (typeof val === 'string') {  
    // æ­¤æ—¶ val æ˜¯stringç±»å‹   
    // do someThing 
  } else if (typeof val === 'number') { 
    // æ­¤æ—¶ val æ˜¯numberç±»å‹   
    // do someThing  
  } 
  // ...
}

```

never ç±»å‹ä¾¿ä¸ºç©ºç±»å‹å’Œåº•éƒ¨ç±»å‹ã€‚never ç±»å‹çš„å˜é‡æ— æ³•è¢«èµ‹å€¼ï¼Œä¸å…¶ä»–ç±»å‹æ±‚äº¤é›†ä¸ºè‡ªèº«ï¼Œæ±‚å¹¶é›†ä¸å‚ä¸è¿ç®—ã€‚

```ts
type Exclude<T, U> = T extends U ? never : T;

// ç›¸å½“äº: type A = 'a'
type A = Exclude<'x' | 'a', 'x' | 'y' | 'z'>

T | never // ç»“æœä¸ºT
T & never // ç»“æœä¸ºnever
```

1ã€ç±»å‹ä¹‹é—´çš„å¹¶é›†ï¼ˆ`|`ï¼‰ä¼šå‘ä¸Šå–é¡¶éƒ¨çš„ç±»å‹ã€‚å³`never | 'a' => 'a'`ï¼Œ`unknown | 'a' => 'unknown'` <br>
2ã€ç±»å‹ä¹‹é—´çš„äº¤é›†ï¼ˆ`&`ï¼‰ä¼šå‘ä¸‹å–åº•éƒ¨çš„ç±»å‹ã€‚å³`never & 'a' = never`ï¼Œ`unknown & 'a' => 'a'`

*   bottom Type: never
*   top type: unknown
*   æ—¢æ˜¯topä¹Ÿæ˜¯bottom: any

### interface å’Œ type

*   ä½¿ç”¨ interface å®šä¹‰æ¥å£ï¼Œä½¿ç”¨ type å®šä¹‰ç±»å‹åˆ«å
*   éƒ½å¯ä»¥çº¦æŸå¯¹è±¡çš„ç»“æ„

åŒºåˆ«:

*   interface åªæè¿°å¯¹è±¡ï¼Œtype åˆ™å¯ä»¥æè¿°æ‰€æœ‰æ•°æ®

*   interface ä½¿ç”¨ extends æ¥å®ç°ç»§æ‰¿ï¼Œtype ä½¿ç”¨ & æ¥å®ç°äº¤å‰ç±»å‹

*   interface ä¼šåˆ›å»ºæ–°çš„ç±»å‹åï¼Œtype åªæ˜¯åˆ›å»ºç±»å‹åˆ«åï¼Œå¹¶æ²¡æœ‰åˆ›å»ºæ–°ç±»å‹

*   interface å¯ä»¥é‡å¤å£°æ˜æ‰©å±•ï¼Œtype åˆ™ä¸è¡Œï¼ˆåˆ«åæ˜¯ä¸èƒ½é‡å¤çš„ï¼‰

æ‰©å±•ç¤ºä¾‹ï¼š

```ts
  interface Person {
    name: string;
    age: number;
  }
  interface Employee extends Person {
    jobTitle: string;
  }

  type PersonType = {
    name: string;
    age: number;
  };
  type EmployeeType = PersonType & {
    jobTitle: string;
  };
```

### æ³›å‹

åœ¨ TypeScript ä¸­ï¼Œæ³›å‹æ˜¯ä¸€ç§åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„æŠ€æœ¯ã€‚

**ä¸€ã€æ³›å‹çš„ä½œç”¨**

1.  æé«˜ä»£ç çš„å¯é‡ç”¨æ€§

    *   æ³›å‹å…è®¸ä½ ç¼–å†™å¯ä»¥é€‚ç”¨äºå¤šç§ä¸åŒç±»å‹çš„ä»£ç ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ç§ç±»å‹éƒ½ç¼–å†™é‡å¤çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªæ³›å‹å‡½æ•°æ¥å¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼Œæ— è®ºæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²è¿˜æ˜¯å…¶ä»–ä»»ä½•ç±»å‹ï¼Œè¿™ä¸ªå‡½æ•°éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œã€‚
    *   ä¾‹å¦‚ï¼š

```ts
     function identity<T>(arg: T): T {
       return arg;
     }
     let output1 = identity<string>("myString");
     let output2 = identity<number>(123);
```

2.  å¢å¼ºç±»å‹å®‰å…¨æ€§

    *   é€šè¿‡æ³›å‹ï¼ŒTypeScript å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿ä»£ç åœ¨è¿è¡Œæ—¶ä¸ä¼šå‡ºç°ç±»å‹ä¸åŒ¹é…çš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œåœ¨æ³›å‹å‡½æ•°ä¸­ï¼ŒTypeScript å¯ä»¥æ ¹æ®ä¼ å…¥çš„ç±»å‹å‚æ•°æ¨æ–­å‡ºå‡½æ•°å†…éƒ¨æ“ä½œçš„æ­£ç¡®ç±»å‹ï¼Œä»è€Œé¿å…äº†æ½œåœ¨çš„ç±»å‹é”™è¯¯ã€‚
    *   ä¾‹å¦‚ï¼š

```ts
     function reverseArray<T>(array: T[]): T[] {
       return array.reverse();
     }
     let numbers = [1, 2, 3];
     let reversedNumbers = reverseArray<number>(numbers);
     // TypeScript ä¼šç¡®ä¿ reversedNumbers çš„ç±»å‹æ˜¯ number[]ï¼Œé¿å…äº†æ„å¤–çš„ç±»å‹é”™è¯¯ã€‚
```

**äºŒã€æ³›å‹çš„è¯­æ³•**

1.  å‡½æ•°ä¸­çš„æ³›å‹

    *   åœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œä½¿ç”¨`<T>`ï¼ˆè¿™é‡Œçš„`T`æ˜¯ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰åç§°ï¼‰æ¥è¡¨ç¤ºæ³›å‹ã€‚åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¯ä»¥ä¼ å…¥å…·ä½“çš„ç±»å‹å‚æ•°æ¥æŒ‡å®šå‡½æ•°æ“ä½œçš„ç±»å‹ã€‚
    *   ä¾‹å¦‚ï¼š

```ts
     function mapArray<T, U>(array: T[], callback: (item: T) => U): U[] {
       return array.map(callback);
     }
     let numbers = [1, 2, 3];
     let doubledNumbers = mapArray<number, number>(numbers, n => n * 2);
     let stringifiedNumbers = mapArray<number, string>(numbers, n => n.toString());
```

2.  æ¥å£ä¸­çš„æ³›å‹

    *   åœ¨æ¥å£å®šä¹‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥ä½¿æ¥å£æ›´åŠ çµæ´»å’Œé€šç”¨ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£æ¥è¡¨ç¤ºä¸€ä¸ªå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹æ•°æ®çš„å®¹å™¨ã€‚
    *   ä¾‹å¦‚ï¼š

```ts
     interface Container<T> {
       value: T;
       setValue(newValue: T): void;
     }
     class NumberContainer implements Container<number> {
       value: number;
       setValue(newValue: number): void {
         this.value = newValue;
       }
     }
```

3.  ç±»ä¸­çš„æ³›å‹

    *   åœ¨ç±»å®šä¹‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥ä½¿ç±»æ›´åŠ é€šç”¨ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ªæ³›å‹ç±»æ¥è¡¨ç¤ºä¸€ä¸ªæ ˆæ•°æ®ç»“æ„ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚
    *   ä¾‹å¦‚ï¼š

```ts
     class Stack<T> {
       private items: T[] = [];
       push(item: T): void {
         this.items.push(item);
       }
       pop(): T | undefined {
         return this.items.pop();
       }
     }
     let numberStack = new Stack<number>();
     numberStack.push(1);
     numberStack.push(2);
     let poppedNumber = numberStack.pop();
```

æ€»ä¹‹ï¼Œæ³›å‹æ˜¯ TypeScript ä¸­ä¸€ç§éå¸¸å¼ºå¤§çš„æŠ€æœ¯ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯é‡ç”¨æ€§å’Œç±»å‹å®‰å…¨æ€§ï¼Œä½¿ä»£ç æ›´åŠ çµæ´»å’Œé€šç”¨ã€‚

### å‡½æ•°é‡è½½

åœ¨ TypeScript ä¸­ï¼Œå‡½æ•°é‡è½½æ˜¯ä¸€ç§å…è®¸ä½ ä¸ºåŒä¸€ä¸ªå‡½æ•°å®šä¹‰å¤šä¸ªä¸åŒå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹çš„ç‰¹æ€§ã€‚

**ä¸€ã€å‡½æ•°é‡è½½çš„ä½œç”¨**

1.  æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼šé€šè¿‡ä¸ºä¸åŒçš„å‚æ•°ç±»å‹æä¾›æ˜ç¡®çš„å‡½æ•°ç­¾åï¼Œå¯ä»¥ä½¿ä»£ç æ›´åŠ æ¸…æ™°æ˜“æ‡‚ã€‚å…¶ä»–å¼€å‘è€…åœ¨é˜…è¯»ä½ çš„ä»£ç æ—¶ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£å‡½æ•°çš„ä½œç”¨å’Œé¢„æœŸçš„è¾“å…¥è¾“å‡ºç±»å‹ã€‚

    *   ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œã€‚å¦‚æœæ²¡æœ‰å‡½æ•°é‡è½½ï¼Œå¯èƒ½éœ€è¦é€šè¿‡æ³¨é‡Šæˆ–æ–‡æ¡£æ¥è§£é‡Šä¸åŒå‚æ•°ç±»å‹çš„ç”¨æ³•ã€‚è€Œä½¿ç”¨å‡½æ•°é‡è½½ï¼Œå¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­çœ‹åˆ°ä¸åŒå‚æ•°ç±»å‹å¯¹åº”çš„å‡½æ•°ç­¾åï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§ã€‚

2.  å¢å¼ºç±»å‹å®‰å…¨æ€§ï¼šTypeScript ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®å‡½æ•°é‡è½½çš„ç­¾åè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿åœ¨è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥æ­£ç¡®çš„å‚æ•°ç±»å‹ã€‚å¦‚æœä¼ å…¥çš„å‚æ•°ç±»å‹ä¸åŒ¹é…ä»»ä½•ä¸€ä¸ªé‡è½½ç­¾åï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œä»è€Œé¿å…äº†æ½œåœ¨çš„ç±»å‹é”™è¯¯ã€‚

    *   ä¾‹å¦‚ï¼š

```ts
     function add(a: number, b: number): number;
     function add(a: string, b: string): string;
     function add(a: any, b: any): any {
       if (typeof a === 'number' && typeof b === 'number') {
         return a + b;
       } else if (typeof a === 'string' && typeof b === 'string') {
         return a + b;
       }
     }
     let sum1 = add(1, 2); // sum1 çš„ç±»å‹æ˜¯ number
     let sum2 = add('hello', 'world'); // sum2 çš„ç±»å‹æ˜¯ string
```

**äºŒã€å‡½æ•°é‡è½½çš„è¯­æ³•**

1.  å®šä¹‰å¤šä¸ªå‡½æ•°ç­¾åï¼šé¦–å…ˆï¼Œå®šä¹‰å¤šä¸ªå‡½æ•°ç­¾åï¼Œæ¯ä¸ªç­¾åè¡¨ç¤ºä¸€ç§ä¸åŒçš„å‚æ•°ç±»å‹ç»„åˆã€‚å‡½æ•°ç­¾ååªåŒ…å«å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼Œä¸åŒ…å«å‡½æ•°ä½“ã€‚

    *   ä¾‹å¦‚ï¼š

```ts
     function greet(name: string): string;
     function greet(age: number): string;
```

2.  å®ç°å‡½æ•°ä½“ï¼šåœ¨æœ€åä¸€ä¸ªå‡½æ•°ç­¾åä¹‹åï¼Œå®ç°å‡½æ•°çš„å…·ä½“é€»è¾‘ã€‚å‡½æ•°ä½“ä¸­çš„ä»£ç éœ€è¦æ ¹æ®ä¸åŒçš„å‚æ•°ç±»å‹è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œä»¥æ»¡è¶³æ‰€æœ‰çš„å‡½æ•°ç­¾åã€‚

    *   ä¾‹å¦‚ï¼š

```ts
     function greet(name: string): string;
     function greet(age: number): string;
     function greet(arg: any): string {
       if (typeof arg === 'string') {
         return `Hello, ${arg}!`;
       } else if (typeof arg === 'number') {
         return `You are ${arg} years old.`;
       }
     }
```

æ€»ä¹‹ï¼Œå‡½æ•°é‡è½½æ˜¯ TypeScript ä¸­ä¸€ç§éå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œç±»å‹å®‰å…¨æ€§ã€‚é€šè¿‡ä¸ºåŒä¸€ä¸ªå‡½æ•°å®šä¹‰å¤šä¸ªä¸åŒçš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿å‡½æ•°æ›´åŠ çµæ´»å’Œé€šç”¨ï¼Œé€‚åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚

### ç±»å‹ã€éç©ºã€å¸¸é‡æ–­è¨€

**ä¸€ã€ç±»å‹æ–­è¨€**

ç±»å‹æ–­è¨€æ˜¯ä¸€ç§å‘Šè¯‰ç¼–è¯‘å™¨ä½ æ¯”å®ƒæ›´äº†è§£æŸä¸ªå€¼çš„ç±»å‹çš„æ–¹å¼ã€‚å®ƒæœ‰ä¸¤ç§è¯­æ³•å½¢å¼ï¼š

1.  `<ç±»å‹>å€¼`ï¼š

    *   ä¾‹å¦‚ï¼š

```ts
     let someValue: any = "Hello";
     let strLength: number = (<string>someValue).length;
```

2.  `å€¼ as ç±»å‹`ï¼š

    *   ä¾‹å¦‚ï¼š

```ts
     let someValue: any = 123;
     let strValue: string = (someValue as string).toUpperCase();
```

ç±»å‹æ–­è¨€åº”è¯¥è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå¦‚æœæ–­è¨€é”™è¯¯ï¼Œåœ¨è¿è¡Œæ—¶å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚

**äºŒã€éç©ºæ–­è¨€**

éç©ºæ–­è¨€æ“ä½œç¬¦ï¼ˆ`!`ï¼‰ç”¨äºå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨æŸä¸ªå€¼åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­ä¸ä¼šæ˜¯`null`æˆ–`undefined`ã€‚

ä¾‹å¦‚ï¼š

```ts
function processValue(value?: string) {
  const length = value!.length; // å‡è®¾åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œvalue ä¸ä¼šæ˜¯ null æˆ– undefined
  return length;
}
```

ä½†è¦æ³¨æ„ï¼Œéç©ºæ–­è¨€åªæ˜¯ä¸€ç§å‘Šè¯‰ç¼–è¯‘å™¨çš„æ–¹å¼ï¼Œä¸èƒ½ä¿è¯åœ¨è¿è¡Œæ—¶è¯¥å€¼ç¡®å®ä¸ä¸º`null`æˆ–`undefined`ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶è¯¥å€¼ä¸º`null`æˆ–`undefined`ï¼Œä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚

**ä¸‰ã€å¸¸é‡æ–­è¨€**

å¸¸é‡æ–­è¨€ä½¿ç”¨`as const`è¯­æ³•ï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªå€¼æ–­è¨€ä¸ºå¸¸é‡ï¼Œä½¿å¾— TypeScript å°½å¯èƒ½åœ°æ¨æ–­å‡ºæœ€çª„çš„ç±»å‹ã€‚

ä¾‹å¦‚ï¼š

```ts
const arr = [1, 2, 3] as const;
// arr çš„ç±»å‹è¢«æ¨æ–­ä¸º readonly [1, 2, 3]ï¼Œè€Œä¸æ˜¯ number[]
```

å¸¸é‡æ–­è¨€åœ¨ä¸€äº›åœºæ™¯ä¸‹å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚ç¡®ä¿å¯¹è±¡çš„å±æ€§ä¸å¯ä¿®æ”¹ï¼Œæˆ–è€…ç¡®ä¿æ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯å…·ä½“çš„å­—é¢é‡ç±»å‹è€Œä¸æ˜¯æ›´å®½æ³›çš„ç±»å‹ã€‚

### ç±»å‹æ”¶çª„

åœ¨ TypeScript ä¸­ï¼Œç±»å‹æ”¶çª„ï¼ˆType Narrowingï¼‰æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶æ ¹æ®ç‰¹å®šçš„æ¡ä»¶åˆ¤æ–­æ¥ç¼©å°å˜é‡å¯èƒ½ç±»å‹èŒƒå›´çš„æŠ€æœ¯ã€‚

**ä¸€ã€ç±»å‹æ”¶çª„çš„ä½œç”¨**

1.  æé«˜ç±»å‹å®‰å…¨æ€§ï¼šé€šè¿‡ç±»å‹æ”¶çª„ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ä»£ç åˆ†æ”¯ä¸­ç¡®å®šå˜é‡çš„æ›´å…·ä½“ç±»å‹ï¼Œä»è€Œä½¿ TypeScript ç¼–è¯‘å™¨èƒ½å¤Ÿè¿›è¡Œæ›´å‡†ç¡®çš„ç±»å‹æ£€æŸ¥ï¼Œå‡å°‘æ½œåœ¨çš„ç±»å‹é”™è¯¯ã€‚

    *   ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯èƒ½æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ç±»å‹ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥é€šè¿‡ç±»å‹åˆ¤æ–­æ¥ç¡®å®šå‚æ•°çš„å…·ä½“ç±»å‹ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚è¿™æ ·å¯ä»¥é¿å…åœ¨ä¸ç¡®å®šå‚æ•°ç±»å‹çš„æƒ…å†µä¸‹è¿›è¡Œä¸æ°å½“çš„æ“ä½œï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§ã€‚

2.  å¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼šç±»å‹æ”¶çª„å¯ä»¥ä½¿ä»£ç æ›´åŠ æ¸…æ™°åœ°è¡¨è¾¾ä¸åŒæƒ…å†µä¸‹å˜é‡çš„ç±»å‹å˜åŒ–ï¼Œä½¿å…¶ä»–å¼€å‘è€…æ›´å®¹æ˜“ç†è§£ä»£ç çš„é€»è¾‘ã€‚åŒæ—¶ï¼Œå½“éœ€è¦ä¿®æ”¹ä»£ç æ—¶ï¼Œä¹Ÿæ›´å®¹æ˜“ç¡®å®šå“ªäº›éƒ¨åˆ†éœ€è¦æ ¹æ®ç±»å‹å˜åŒ–è¿›è¡Œè°ƒæ•´ã€‚

    *   ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¤„ç†ç”¨æˆ·è¾“å…¥çš„å‡½æ•°ä¸­ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ”¶çª„æ¥åŒºåˆ†ä¸åŒç±»å‹çš„è¾“å…¥ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚è¿™æ ·å¯ä»¥ä½¿ä»£ç çš„é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ã€‚

**äºŒã€ç±»å‹æ”¶çª„çš„æ–¹æ³•**

1.  ä½¿ç”¨ç±»å‹åˆ¤æ–­è¯­å¥

    *   `typeof`åˆ¤æ–­ï¼šå¯ä»¥ä½¿ç”¨`typeof`æ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡çš„åŸºæœ¬ç±»å‹ï¼ˆå¦‚`string`ã€`number`ã€`boolean`ç­‰ï¼‰ã€‚

```ts
     function processValue(value: string | number) {
       if (typeof value === 'string') {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼Œvalue çš„ç±»å‹è¢«æ”¶çª„ä¸º string
         console.log(value.length);
       } else {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼Œvalue çš„ç±»å‹è¢«æ”¶çª„ä¸º number
         console.log(value.toFixed(2));
       }
     }
```

*   `instanceof`åˆ¤æ–­ï¼šå¯¹äºç±»çš„å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨`instanceof`æ“ä½œç¬¦æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚

```ts
     class Animal {
       makeSound() {
         console.log('Some sound');
       }
     }
     class Dog extends Animal {
       bark() {
         console.log('Woof!');
       }
     }
     function processAnimal(animal: Animal) {
       if (animal instanceof Dog) {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼Œanimal çš„ç±»å‹è¢«æ”¶çª„ä¸º Dog
         animal.bark();
       } else {
         animal.makeSound();
       }
     }
```

2.  ä½¿ç”¨é€»è¾‘åˆ¤æ–­

    *   å¯ä»¥é€šè¿‡å¯¹å˜é‡çš„å±æ€§æˆ–æ–¹æ³•çš„å­˜åœ¨æ€§è¿›è¡Œåˆ¤æ–­æ¥è¿›è¡Œç±»å‹æ”¶çª„ã€‚

```ts
     interface Bird {
       fly(): void;
     }
     interface Penguin {
       swim(): void;
     }
     function processBirdOrPenguin(birdOrPenguin: Bird | Penguin) {
       if ('swim' in birdOrPenguin) {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼ŒbirdOrPenguin çš„ç±»å‹è¢«æ”¶çª„ä¸º Penguin
         birdOrPenguin.swim();
       } else {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼ŒbirdOrPenguin çš„ç±»å‹è¢«æ”¶çª„ä¸º Bird
         birdOrPenguin.fly();
       }
     }
```

3.  ä½¿ç”¨ç±»å‹å®ˆå«å‡½æ•°

    *   å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œè¿™ç§å‡½æ•°è¢«ç§°ä¸ºç±»å‹å®ˆå«å‡½æ•°ã€‚

```ts
     function isString(value: any): value is string {
       return typeof value === 'string';
     }
     function processValue(value: string | number) {
       if (isString(value)) {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼Œvalue çš„ç±»å‹è¢«æ”¶çª„ä¸º string
         console.log(value.length);
       } else {
         // åœ¨è¿™ä¸ªåˆ†æ”¯ä¸­ï¼Œvalue çš„ç±»å‹è¢«æ”¶çª„ä¸º number
         console.log(value.toFixed(2));
       }
     }
```

æ€»ä¹‹ï¼Œç±»å‹æ”¶çª„æ˜¯ TypeScript ä¸­ä¸€ç§éå¸¸æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå¯ä»¥æé«˜ä»£ç çš„ç±»å‹å®‰å…¨æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚é€šè¿‡ä½¿ç”¨ä¸åŒçš„æ–¹æ³•è¿›è¡Œç±»å‹æ”¶çª„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®ç‰¹å®šçš„æ¡ä»¶åˆ¤æ–­æ¥ç¡®å®šå˜é‡çš„æ›´å…·ä½“ç±»å‹ï¼Œä»è€Œä½¿ä»£ç æ›´åŠ å¥å£®å’Œå¯é ã€‚

### é€†å˜å’Œåå˜

åœ¨ TypeScript ä¸­ï¼Œé€†å˜ï¼ˆContravarianceï¼‰å’Œåå˜ï¼ˆCovarianceï¼‰æ˜¯ä¸ç±»å‹ç³»ç»Ÿä¸­çš„å­ç±»å‹å…³ç³»ç›¸å…³çš„æ¦‚å¿µã€‚

**ä¸€ã€åå˜**

1.  å®šä¹‰ï¼šå¦‚æœç±»å‹`A`æ˜¯ç±»å‹`B`çš„å­ç±»å‹ï¼Œå¹¶ä¸”å¯¹äºæŸä¸ªç±»å‹å‚æ•°`T`ï¼ŒåŒ…å«`T`çš„å®¹å™¨ç±»å‹`Container<T>`ä¸­ï¼Œ`Container<A>`ä¹Ÿæ˜¯`Container<B>`çš„å­ç±»å‹ï¼Œé‚£ä¹ˆå°±ç§°è¿™ç§å…³ç³»ä¸ºåå˜ã€‚

2.  ç¤ºä¾‹ï¼š

    *   åœ¨ TypeScript ä¸­ï¼Œæ•°ç»„ç±»å‹åœ¨å¤„ç†å…ƒç´ ç±»å‹æ—¶è¡¨ç°å‡ºåå˜æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`Animal`æ˜¯çˆ¶ç±»å‹ï¼Œ`Cat`æ˜¯`Animal`çš„å­ç±»å‹ï¼Œé‚£ä¹ˆ`Cat[]`æ˜¯`Animal[]`çš„å­ç±»å‹ã€‚

```ts
   class Animal { }
   class Cat extends Animal { }
   let animals: Animal[] = [];
   let cats: Cat[] = [];
   animals = cats; // å› ä¸ºæ•°ç»„ç±»å‹åœ¨å…ƒç´ ç±»å‹ä¸Šè¡¨ç°å‡ºåå˜æ€§ï¼Œæ‰€ä»¥è¿™æ˜¯åˆæ³•çš„èµ‹å€¼
```

**äºŒã€é€†å˜**

1.  å®šä¹‰ï¼šå¦‚æœç±»å‹`A`æ˜¯ç±»å‹`B`çš„å­ç±»å‹ï¼Œå¹¶ä¸”å¯¹äºæŸä¸ªç±»å‹å‚æ•°`T`ï¼ŒåŒ…å«`T`çš„å®¹å™¨ç±»å‹`Container<T>`ä¸­ï¼Œ`Container<B>`æ˜¯`Container<A>`çš„å­ç±»å‹ï¼Œé‚£ä¹ˆå°±ç§°è¿™ç§å…³ç³»ä¸ºé€†å˜ã€‚

2.  ç¤ºä¾‹ï¼š

    *   åœ¨å‡½æ•°å‚æ•°çš„ç±»å‹ä¸­ï¼Œè¡¨ç°å‡ºé€†å˜çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`Animal`æ˜¯çˆ¶ç±»å‹ï¼Œ`Cat`æ˜¯`Animal`çš„å­ç±»å‹ï¼Œå¯¹äºä¸€ä¸ªå‡½æ•°ç±»å‹`(arg: Animal) => void`å’Œ`(arg: Cat) => void`ï¼Œå‰è€…å¯ä»¥èµ‹å€¼ç»™åè€…ã€‚

```ts
   class Animal { }
   class Cat extends Animal { }
   let animalFunc: (arg: Animal) => void;
   let catFunc: (arg: Cat) => void;
   animalFunc = catFunc; // å› ä¸ºå‡½æ•°å‚æ•°ç±»å‹è¡¨ç°å‡ºé€†å˜ç‰¹æ€§ï¼Œæ‰€ä»¥è¿™æ˜¯åˆæ³•çš„èµ‹å€¼
```

ç†è§£é€†å˜å’Œåå˜å¯¹äºæ­£ç¡®å¤„ç†ç±»å‹ç³»ç»Ÿä¸­çš„å­ç±»å‹å…³ç³»ä»¥åŠç¼–å†™å®‰å…¨å’Œçµæ´»çš„ TypeScript ä»£ç éå¸¸é‡è¦ã€‚ä½†åœ¨ä½¿ç”¨æ—¶éœ€è¦è°¨æ…ï¼Œå› ä¸ºä¸æ­£ç¡®çš„ä½¿ç”¨å¯èƒ½ä¼šå¯¼è‡´ç±»å‹ä¸åŒ¹é…çš„é”™è¯¯ã€‚

## <span id="anchor-point">ä½“æ“15å¥—ğŸ¤¸â€</span>

### 1ã€å®ç°ç±»å‹ç‰ˆæœ¬çš„Â `Array.unshift`ã€‚

é›é¹°èµ·é£ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ï¼ˆå…ˆæ‰¾æ‰¾æ„Ÿè§‰ï¼Œå¢åŠ è‡ªä¿¡ï¼‰<br>

*   å®ç°ç±»å‹ç‰ˆæœ¬çš„Â `Array.unshift`ã€‚

```ts
type Result = Unshift<[1, 2], 0>; // [0, 1, 2,]
```

*   è§£ç­”

```ts
type Unshift<T extends any[], U> = [U, ...T];
```

*   çŸ¥è¯†ç‚¹: å…ƒç»„ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦

### 2ã€å®ç°Partial

*   é¢˜ç›®ï¼šå®ç° Partialï¼Œå…¨éƒ¨å˜æˆå¯é€‰

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}
type TodoPreview = Partial<Todo>; 
// expect
// type TodoPreview = {
//     title?: string;
//     description?: string;
//     completed?: boolean;
// }
```

*   è§£ç­”ï¼š
    éå†åŠ keyofå…¨éƒ¨å˜ä¸ºå¯é€‰å³å¯

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}
type TodoPreview = Partial<Todo>; 
// expect
// type TodoPreview = {
//     title?: string;
//     description?: string;
//     completed?: boolean;
// }

type MyPartial<T> = {
  [P in keyof T]?: T[P];
};
```

*   çŸ¥è¯†ç‚¹ï¼šin éå† keyof æ‰€æœ‰key

### 3ã€å®ç°Exclude

*   é¢˜ç›®ï¼šå®ç°Exclude
*   ä»è”åˆç±»å‹ T ä¸­æ’é™¤ U çš„ç±»å‹æˆå‘˜ï¼Œæ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}
type TodoPreview = MyExclude<keyof Todo, 'description'>; 
// type TodoPreview = "title" | "completed"
```

*   è§£ç­”ï¼š

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}
type TodoPreview = MyExclude<keyof Todo, 'description'>; 
// type TodoPreview = "title" | "completed"

type MyExclude<T, U> = T extends U ? never : T;
```

*   çŸ¥è¯†ç‚¹ï¼šts åˆ†å‘ç‰¹æ€§
*   åœ¨Â `A extends B ? true : false`Â ä¸­ï¼Œå¦‚æœÂ `A`Â æ˜¯è”åˆç±»å‹ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘ ts çš„åˆ†å‘ç‰¹æ€§ã€‚
*   è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰æ³›å‹æ‰ä¼šè§¦å‘åˆ†å‘ç‰¹æ€§ï¼š

```ts
type Example<T> = T extends string ? T : boolean;
// 1 | '3' | {} | [] extends string ä¼šè§¦å‘åˆ†å‘ç‰¹æ€§ï¼Œä¼šè½¬å˜æˆå¦‚ä¸‹é€»è¾‘:
// éœ€è¦æ³¨æ„çš„æ˜¯ T åœ¨åˆ†å‘åï¼Œè¿˜æ˜¯ç”¨ T è¡¨ç¤ºï¼Œä½†æ˜¯æ­¤æ—¶çš„ T ä»…ä»…è¡¨ç¤ºçš„æ˜¯è”åˆç±»å‹ä¸­çš„é‚£ä¸€é¡¹ï¼Œè€Œéæ•´ä¸ªè”åˆç±»å‹
// 1 extends string ? 1 : boolean | '3' extends string ? '3' : boolean | {} extends string ? {} : boolean | [] extends string ? [] : boolean
// boolean | '3' | boolean | boolean
// Case1 = boolean | '3'
type Case1 = Example<1 | '3' | {} | []>;
```

### 4ã€å®ç°Omit

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

type TodoPreview = MyOmit<Todo, 'description' | 'title'>;

const todo: TodoPreview = {
  completed: false,
};

// å®˜æ–¹å®ç°
// type Exclude<T, U> = T extends U ? never : T
// å®˜æ–¹å®ç°
// type Omit<T, K extends string | number | symbol> = { [P in Exclude<keyof T, K>]: T[P]; }

// åˆ©ç”¨ as å¼ºåˆ¶è½¬æ¢é”®å€¼ç±»å‹ï¼Œåˆå€ŸåŠ©æ¡ä»¶è¡¨è¾¾å¼å°†ç¬¦åˆæ¡ä»¶çš„é”®å€¼æ”¹ä¸º neverï¼Œä»è€Œè¾¾åˆ°ç›®æ ‡ã€‚
type MyOmit<T, K extends keyof T> = {
  [P in keyof T as P extends K ? never : P]: T[P];
}
```

### 5ã€å®ç°If

*   é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªÂ `IF`Â ç±»å‹ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæ¡ä»¶ç±»å‹Â `C`Â ï¼Œä¸€ä¸ªåˆ¤æ–­ä¸ºçœŸæ—¶çš„è¿”å›ç±»å‹Â `T`Â ï¼Œä»¥åŠä¸€ä¸ªåˆ¤æ–­ä¸ºå‡æ—¶çš„è¿”å›ç±»å‹Â `F`ã€‚Â `C`Â åªèƒ½æ˜¯Â `true`Â æˆ–è€…Â `false`ï¼ŒÂ `T`Â å’ŒÂ `F`Â å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚

```ts
type A = If<true, 'a', 'b'>; // expected to be 'a'
type B = If<false, 'a', 'b'>; // expected to be 'b'
```

*   è§£ç­”ï¼š
    æ­¤é¢˜ç›®åˆ©ç”¨ ts çš„Â [conditional-types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)å¯ä»¥éå¸¸ç®€å•çš„è§£å†³ã€‚

```ts
type If<C extends boolean, T, F> = C extends true ? T : F;
```

*   çŸ¥è¯†ç‚¹ï¼š`A extends B ? 1 : 2`ï¼Œts çš„æ¡ä»¶åˆ¤æ–­ç±»å‹

### 6ã€å®ç°TrimLeft

*   é¢˜ç›®ï¼šå®ç°Â `TrimLeft<T>`Â ï¼Œå®ƒæ¥æ”¶ç¡®å®šçš„å­—ç¬¦ä¸²ç±»å‹å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­æ–°è¿”å›çš„å­—ç¬¦ä¸²åˆ é™¤äº†åŸå­—ç¬¦ä¸²å¼€å¤´çš„ç©ºç™½å­—ç¬¦ä¸²ã€‚

```ts
type trimed = TrimLeft<'  Hello World  '>; // åº”æ¨å¯¼å‡º 'Hello World  '
```

*   è§£ç­”ï¼š
    é€šè¿‡ infer æ¥éå†,å¦‚æœæœ‰å¤šä¸ªç©ºæ ¼å°±é€’å½’ã€‚

```ts
// ${' ' | '\n' | '\t'} å æ®ä¸€ä¸ªå­—ç¬¦ï¼ŒR åŒ¹é…å‰©ä½™çš„å­—ç¬¦ï¼Œå¦‚æœèƒ½å¤ŸåŒ¹é…ï¼Œè¯æ˜ç¬¬ä¸€ä¸ªå­—ç¬¦å°±æ˜¯ç©ºç™½å­—ç¬¦ï¼Œæ­¤æ—¶éœ€è¦ç»§ç»­å¤„ç†å‰©ä½™å­—ç¬¦ Rï¼Œå¦åˆ™è¿”å›å½“å‰å­—ç¬¦ S
type TrimLeft<S extends string> = S extends `${' ' | '\n' | '\t'}${infer R}`
  ? TrimLeft<R>
  : S;
```

*   çŸ¥è¯†ç‚¹ï¼šå­—ç¬¦éå†ï¼š`` T extends `${F}${R}` ``

### 7ã€å®ç°æŒ‰ç±»å‹æŸ¥æ‰¾

*   é¢˜ç›®ï¼šé€šè¿‡åœ¨è”åˆç±»å‹`Cat | Dog`ä¸­æœç´¢å…¬å…±`type`å­—æ®µæ¥è·å–ç›¸åº”çš„ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›`LookUp<Dog | Cat, 'dog'>`è·å¾—`Dog`ï¼Œ`LookUp<Dog | Cat, 'cat'>`è·å¾—`Cat`ã€‚

```ts
interface Cat {
  type: 'cat';
  breeds: 'Abyssinian' | 'Shorthair' | 'Curl' | 'Bengal';
}

interface Dog {
  type: 'dog';
  breeds: 'Hound' | 'Brittany' | 'Bulldog' | 'Boxer';
  color: 'brown' | 'white' | 'black';
}

type MyDog = LookUp<Cat | Dog, 'dog'>; // expected to be `Dog`
```

*   è§£ç­”ï¼š

```ts
type LookUp<U, T> = U extends { type: T } ? U : never;

// åˆ†å‘ç‰¹æ€§
// step1: Cat extends { type: 'dog' } ? Cat : never -> never
// step2: Dog extends { type: 'dog' } ? Dog : never -> Dog
// step3: never | Dog -> Dog
type MyDog = LookUp<Cat | Dog, 'dog'>;
```

*   çŸ¥è¯†ç‚¹ï¼šæ³›å‹ä¸‹è”åˆç±»å‹çš„åˆ†å‘ç‰¹æ€§ å’Œ æ¡ä»¶è¡¨è¾¾å¼

### 8ã€å®ç°Absolute

*   é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªæ¥æ”¶ string,number æˆ– bigInt ç±»å‹å‚æ•°çš„`Absolute`ç±»å‹,è¿”å›ä¸€ä¸ªæ­£æ•°å­—ç¬¦ä¸²ã€‚

```ts
type Test = -100;
type Result = Absolute<Test>; // expected to be "100"
```

*   è§£ç­”ï¼šè½¬æ¢æˆå­—ç¬¦åï¼Œå¯ä»¥ç›´æ¥è¿›è¡ŒÂ `-`Â å·çš„åŒ¹é…ï¼Œæœ‰Â `-`Â å·ï¼Œå°±åªä¿ç•™å‰©ä½™çš„å­—ç¬¦ï¼Œå¦åˆ™å…¨éƒ¨ä¿ç•™å³å¯ã€‚

```ts
type Absolute<T extends number | string | bigint> = `${T}` extends `-${infer S}`
  ? // æœ‰ - å·ï¼Œä¿ç•™å‰©ä½™çš„å­—ç¬¦
    `${S}`
  : // å¦åˆ™ä¿ç•™åŸå­—ç¬¦å³å¯
    `${T}`;
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  number è½¬ string
2.  å­—ç¬¦æ¨æ–­åŒ¹é…å¥—è·¯ï¼šÂ `` A extends `-${infer R}` ``

### 9ã€å®ç°Flatten

*   é¢˜ç›®ï¼šå†™ä¸€ä¸ªæ¥å—æ•°ç»„çš„ç±»å‹ï¼Œå¹¶ä¸”è¿”å›æ‰å¹³åŒ–çš„æ•°ç»„ç±»å‹

```ts
type flatten = Flatten<[1, 2, [3, 4], [[[5]]]]>; // [1, 2, 3, 4, 5]
```

*   è§£ç­”ï¼š
    éå†å…ƒç»„ï¼Œå½“å…ƒç´ è¿˜æ˜¯å…ƒç»„æ—¶ï¼Œç»§ç»­é€’å½’å¤„ç†ï¼Œç›´åˆ°å…ƒç´ éå…ƒç»„ç»“æŸã€‚
    å…ƒç»„çš„éå†æ–¹æ³•å¯ä»¥é€šè¿‡åŒ¹é…æ¨æ–­ï¼š`A extends [infer F, ...infer R]`

```ts
type Flatten<T> =
  // éå†è·å–ç¬¬ä¸€ä¸ªå…ƒç´ 
  T extends [infer F, ...infer R]
    ? // ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¦æ—¶å…ƒç»„
      F extends any[]
      ? // æ˜¯ï¼Œé‚£ä¹ˆéœ€è¦é€’å½’å¤„ç†ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶æ‹¼æ¥ä¸Šé€’å½’å¤„ç†åçš„å‰©ä½™å…ƒç´ 
        [...Flatten<F>, ...Flatten<R>]
      : // ä¸æ˜¯ï¼Œç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶æ‹¼æ¥ä¸Šé€’å½’å¤„ç†åçš„å‰©ä½™å…ƒç´ 
        [F, ...Flatten<R>]
    : // éå†ç»“æŸï¼Œè¿”å›ç©ºå…ƒç»„ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ‹¼æ¥ç»“æœçš„æ­£ç¡®
      [];
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  å…ƒç»„éå†å¥—è·¯ï¼šÂ `T extends [infer F, ...infer R]`
2.  å…ƒç»„éå†è¾¹ç•Œæ¡ä»¶ï¼šæ¨æ–­çš„ç±»å‹æœ‰ä¸¤ä¸ªï¼Œå½“å…¥å‚æ²¡æœ‰å…ƒç´ æ—¶ï¼Œä¼šèµ° false é€»è¾‘

### 10ã€Readonly2

*   é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªé€šç”¨`MyReadonly2<T, K>`ï¼Œå®ƒå¸¦æœ‰ä¸¤ç§ç±»å‹çš„å‚æ•°`T`å’Œ`K`ã€‚
    `K`æŒ‡å®šåº”è®¾ç½®ä¸º Readonly çš„`T`çš„å±æ€§é›†ã€‚å¦‚æœæœªæä¾›`K`ï¼Œåˆ™åº”ä½¿æ‰€æœ‰å±æ€§éƒ½å˜ä¸ºåªè¯»ï¼Œå°±åƒæ™®é€šçš„`Readonly<T>`ä¸€æ ·ã€‚

```ts
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

const todo: MyReadonly2<Todo, 'title' | 'description'> = {
  title: 'Hey',
  description: 'foobar',
  completed: false,
};

todo.title = 'Hello'; // Error: cannot reassign a readonly property
todo.description = 'barFoo'; // Error: cannot reassign a readonly property
todo.completed = true; // OK
```

*   è§£ç­”

```ts
type MyReadonly2<T, K extends keyof T = keyof T> = {
  readonly [P in keyof T] : T[P];
} & {
  [P in keyof T as P extends K ? never : P] : T[P];
}
```

*   çŸ¥è¯†ç‚¹:

1.  ç¼ºçœå€¼è®¾ç½® K extends keyof T = keyof T
2.  éå†
    å†™ä¸€ä¸ªæ¥å—æ•°ç»„çš„ç±»å‹ï¼Œå¹¶ä¸”è¿”å›æ‰å¹³åŒ–çš„æ•°ç»„ç±»å‹

### 11ã€å®ç°DeepReadonly

*   é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªé€šç”¨çš„`DeepReadonly<T>`ï¼Œå®ƒå°†å¯¹è±¡çš„æ¯ä¸ªå‚æ•°åŠå…¶å­å¯¹è±¡é€’å½’åœ°è®¾ä¸ºåªè¯»ã€‚
    æ‚¨å¯ä»¥å‡è®¾åœ¨æ­¤æŒ‘æˆ˜ä¸­æˆ‘ä»¬ä»…å¤„ç†å¯¹è±¡ã€‚æ•°ç»„ï¼Œå‡½æ•°ï¼Œç±»ç­‰éƒ½æ— éœ€è€ƒè™‘ã€‚ä½†æ˜¯ï¼Œæ‚¨ä»ç„¶å¯ä»¥é€šè¿‡è¦†ç›–å°½å¯èƒ½å¤šçš„ä¸åŒæ¡ˆä¾‹æ¥æŒ‘æˆ˜è‡ªå·±ã€‚

```ts
type X = {
  x: {
    a: 1;
    b: 'hi';
  };
  y: 'hey';
};

type Expected = {
  readonly x: {
    readonly a: 1;
    readonly b: 'hi';
  };
  readonly y: 'hey';
};

type Todo = DeepReadonly<X>; // should be same as `Expected`
```

*   è§£ç­”ï¼š
    é€šè¿‡Â `T[P] extends {} ? DeepReadonly<T[P]> : T[P]`Â å¯¹å±æ€§å€¼è¿›è¡ŒäºŒæ¬¡åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ç»§æ‰¿è‡ª å¯¹è±¡ï¼Œé‚£ä¹ˆå°±é€’å½’å¤„ç†ï¼Œå¦åˆ™è¿”å›åŸå§‹å±æ€§å€¼ã€‚<br>
    å¯¹äºå‡½æ•°æ‰§è¡Œéå†ï¼Œé‚£ä¹ˆç”±äºÂ `keyof (() => {})`Â æ˜¯Â `never`ï¼Œæ–°çš„ç±»å‹çš„å±æ€§å°±ä¸ºç©ºï¼Œä»è€Œè¿”å›Â `{}`ã€‚
    æ‰€ä»¥å¯¹äºæ­¤é¢˜ï¼Œåªéœ€è¦å¢åŠ å‡½æ•°çš„é¢å¤–å¤„ç†å³å¯ã€‚

```ts
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends Function
    ? T[P]
    : T[P] extends {}
    ? DeepReadonly<T[P]>
    : T[P];
};
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  é€’å½’å¤„ç†åµŒå¥—é—®é¢˜
2.  å…ƒç»„å¯ä»¥ä½¿ç”¨éå†å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œéå†
3.  `(() => {}) extends {}`Â ç»“æœä¸º true

### 12ã€å®ç°Parameters

*   é¢˜ç›®ï¼šå®ç°å†…ç½®çš„Â `Parameters<T>`Â ç±»å‹ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨å®ƒï¼Œå¯å‚è€ƒ[TypeScript å®˜æ–¹æ–‡æ¡£Â (opens new window)](https://www.typescriptlang.org/docs/handbook/utility-types.html#parameterstype)ã€‚

```ts
const foo = (arg1: string, arg2: number): void => {};

// [arg1: string, arg2: number]
type FunctionParamsType = MyParameters<typeof foo>;
```

*   è§£ç­”ï¼š
    å¸¸è§„å¥—è·¯ï¼š`A extends infer B`Â è¿™æ ·çš„åŒ¹é…æ¨æ–­ï¼Œä¸è¿‡è¿™é‡Œæ¨æ–­çš„æ˜¯å‡½æ•°çš„å‚æ•°ã€‚å¯ä»¥å…ˆä»ä¸€ä¸ªå‚æ•°æ¨æ–­å¼€å§‹ï¼š

```ts
// infer å¤„äºç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®ï¼Œæ•…å¯ä»¥å¾—åˆ°ç¬¬ä¸€ä¸ªå‚æ•°
// å¦‚æœå‡½æ•°æ²¡æœ‰ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåˆ™ä¼šæ¨æ–­å‡ºæ¥ unknownï¼Œå¹¶ä¸ä¼šèµ° false é€»è¾‘
type MyFirstParameter<T> = T extends (arg: infer F) => any ? F : never;

// Case1 = number;
type Case1 = MyFirstParameter<(a: number) => {}>;

// Case2 = unknownï¼Œç‰¹æ®Šæƒ…å†µï¼Œæ²¡æœ‰å‚æ•°
type Case2 = MyFirstParameter<() => {}>;
```

é€šè¿‡æ‰©å±•æ“ä½œç¬¦æ¨æ–­æ‰€æœ‰å‚æ•°

```ts
type Parameters<T extends (...args: any) => any> =
  // æ‰©å±•æ“ä½œç¬¦ï¼Œæ¨æ–­å‡º P
  T extends (...args: infer P) => any ? P : never;
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  å‡½æ•°ç±»å‹ï¼Œä¹Ÿå¯ä»¥åšæ¨æ–­åŒ¹é…ï¼Œ`A extends (...args: infer P) => infer R`
2.  å‡½æ•°ç±»å‹ï¼Œæ¨æ–­åŒ¹é…æ—¶ï¼Œä½¿ç”¨æ‰©å±•æ“ä½œç¬¦

### 13ã€å®ç°ReplaceAll

*   é¢˜ç›®ï¼šå®ç°Â `ReplaceAll<S, From, To>`Â å°†ä¸€ä¸ªå­—ç¬¦ä¸²Â `S`Â ä¸­çš„æ‰€æœ‰å­å­—ç¬¦ä¸²Â `From`Â æ›¿æ¢ä¸ºÂ `To`ã€‚

```ts
type replaced = ReplaceAll<'t y p e s', ' ', ''>; // æœŸæœ›æ˜¯ 'types'
```

*   è§£ç­”ï¼š
    å·©å›ºä¸€ä¸‹é€’å½’åµŒå¥—

```ts
type ReplaceAll<S extends string, From extends string, To extends string> =
  // ç‰¹æ®Šæƒ…å†µå¤„ç†
  From extends ''
    ? S
    : S extends `${infer F}${From}${infer R}`
    ? // æ ¸å¿ƒåœ¨äº é€’å½’åµŒå¥—å¤„ç†å‰©ä½™å­—ç¬¦
      `${F}${To}${ReplaceAll<R, From, To>}`
    : S;
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  å­—ç¬¦åŒ¹é…æ¨æ–­ï¼š`` A extends `${infer F}${From}${infer R}` ``
2.  é€’å½’å¤„ç†å‰©ä½™å­—ç¬¦

### 14ã€å®ç°AppendToObject

*   é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªä¸ºæ¥å£æ·»åŠ ä¸€ä¸ªæ–°å­—æ®µçš„ç±»å‹ã€‚è¯¥ç±»å‹æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œè¿”å›å¸¦æœ‰æ–°å­—æ®µçš„æ¥å£ç±»å‹ã€‚

```ts
type Test = { id: '1' };
type Result = AppendToObject<Test, 'value', 4>; // expected to be { id: '1', value: 4 }
```

*   è§£ç­”ï¼š

```ts
type Merge<T> = {
  [P in keyof T]: T[P];
};

type AppendToObject<T, U extends string, V> = Merge<
  T & {
    [K in U]: V;
  }
>;
```

ä¸ºä»€ä¹ˆéœ€è¦Â `Merge`Â åŒ…è£¹ä¸€å±‚ï¼Ÿ

```ts
export type Equal<X, Y> = (<T>() => T extends X ? 1 : 2) extends <
  T,
>() => T extends Y ? 1 : 2
  ? true
  : false;

type A = {
  a: number;
  b: number;
};

type B = {
  a: number;
} & {
  b: number;
};

type Merge<T> = {
  [P in keyof T]: T[P];
};

// false
type Case1 = Equal<A, B> extends true ? true : false;

// true
type Case2 = Equal<A, Merge<B>> extends true ? true : false;
```

*   çŸ¥è¯†ç‚¹ï¼š

1.  å¯¹è±¡äº¤å‰
2.  äº¤å‰åçš„å¯¹è±¡ Merge

### 15ã€å®ç°æŒ‰ç±»å‹æŸ¥æ‰¾

*   é¢˜ç›®ï¼šé€šè¿‡åœ¨è”åˆç±»å‹`Cat | Dog`ä¸­æœç´¢å…¬å…±`type`å­—æ®µæ¥è·å–ç›¸åº”çš„ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›`LookUp<Dog | Cat, 'dog'>`è·å¾—`Dog`ï¼Œ`LookUp<Dog | Cat, 'cat'>`è·å¾—`Cat`ã€‚

```ts
interface Cat {
  type: 'cat';
  breeds: 'Abyssinian' | 'Shorthair' | 'Curl' | 'Bengal';
}

interface Dog {
  type: 'dog';
  breeds: 'Hound' | 'Brittany' | 'Bulldog' | 'Boxer';
  color: 'brown' | 'white' | 'black';
}

type MyDog = LookUp<Cat | Dog, 'dog'>; // expected to be `Dog`
```

*   è§£ç­”ï¼š
    è¿™ä¸€é¢˜ä¹Ÿæœ‰ç‚¹è´´åˆå®é™…å·¥ä½œäº†ï¼Œå€ŸåŠ©è”åˆç±»å‹çš„åˆ†å‘ç‰¹æ€§å¯ä»¥å¾ˆè½»æ˜“çš„å®ç°

```ts
type LookUp<U, T> = U extends { type: T } ? U : never;

// åˆ†å‘ç‰¹æ€§
// step1: Cat extends { type: 'dog' } ? Cat : never -> never
// step2: Dog extends { type: 'dog' } ? Dog : never -> Dog
// step3: never | Dog -> Dog
type MyDog = LookUp<Cat | Dog, 'dog'>;
```

*   çŸ¥è¯†ç‚¹ï¼šæ³›å‹ä¸‹è”åˆç±»å‹çš„åˆ†å‘ç‰¹æ€§ å’Œ æ¡ä»¶è¡¨è¾¾å¼

### å½©è›‹ï¼šå¤§å®¶æœ€çˆ±çš„ä¸¤æ•°ä¹‹å’Œ ï¼ˆçœ‹çœ‹å°±å¥½ï¼Œæœ‰ç‚¹å¤æ‚ï¼Œå°å¿ƒèµ°ç«å…¥é­”ï¼‰

*   é¢˜ç›®ï¼š ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target, å¦‚æœ nums æ•°ç»„ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ çš„å’Œç­‰äº target è¿”å› true, å¦åˆ™è¿”å› false

*   è§£ç­”ï¼š
    è¿™ä¸ªé¢˜ç›®æ¶‰åŠåˆ°äº†åŠ æ³•ï¼Œå› ä¸ºts æ²¡æœ‰æä¾›è®¡ç®—çš„èƒ½åŠ›ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡æ„é€ è¾…åŠ©å…ƒç»„çš„æ–¹å¼æ¥è¿›è¡Œè®¡æ•°ï¼Œé€šè¿‡å…ƒç»„çš„é•¿åº¦æ¥ä½œä¸ºç»“æœã€‚é‚£ä¹ˆè¦å®ç°åŠ æ³•ï¼Œå¯ä»¥æ„é€ ä¸¤ä¸ªé•¿åº¦ä¸º A,B çš„å…ƒç»„ï¼Œå°†å…ƒç»„ç»„åˆèµ·æ¥ï¼Œå°±æ˜¯åŠ æ³•çš„ç»“æœã€‚

```ts
// åˆ›å»ºé•¿åº¦ä¸º A çš„å…ƒç»„
type BuildArrs<
  A extends number,
  Arr extends any[] = [],
> = Arr['length'] extends A ? Arr : BuildArrs<A, [...Arr, 1]>;

// åŠ æ³•å°±æ˜¯å°†ä¸¤ä¸ªå…ƒç»„åˆå¹¶
type Sum<A extends number, B extends number> = [
  ...BuildArrs<A>,
  ...BuildArrs<B>,
]['length'];

// åˆ¤æ–­ A ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå…ƒç´ ï¼Œå’Œ B ç›¸åŠ  = T
type Sums<A extends number[], B extends number, T extends number> = A extends [
  infer F extends number,
  ...infer R extends number[],
]
  ? Sum<F, B> extends T
    ? true
    : Sums<R, B, T>
  : false;

type TwoSum<T extends number[], U extends number> = T extends [
  infer F extends number,
  ...infer R extends number[],
]
  ? // å¦‚æœå‰©ä½™å…ƒç´ ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå…ƒç´ å’Œ F ç›¸åŠ  = U ï¼Œé‚£ä¹ˆå°±è¿”å›true
    Sums<R, F, U> extends true
    ? true
    : // å¦åˆ™é€’å½’å‰©ä½™å…ƒç´ 
      TwoSum<R, U>
  : false;
```

*   çŸ¥è¯†ç‚¹ï¼š
    1ã€å…ƒç»„è¾…åŠ©è®¡æ•°
    2ã€åŠ æ³•å®ç°

![3F99CB9C-CA75-4EBF-9145-413ACC56FED7.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/982be14308a9487787ffdbd1cf8541e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5omT5pu05Lq6ZXI=:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiNDA3MjI0Njc5ODQ2MDQ3OCJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1727748062&x-orig-sign=%2Fa5u6cco4%2FT114ja77WA5msjA08%3D)

## <span id="mszt">é¢è¯•çœŸé¢˜50é“</span>

*   ä¸»è¦è€ƒå¯ŸTypeScript è¯­è¨€çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬`åŸºæœ¬è¯­æ³•`ã€`ç±»å‹ç³»ç»Ÿ`ã€`å‡½æ•°`ã€`ç±»`ã€`æ¨¡å—åŒ–`ã€`æ³›å‹`ã€`è£…é¥°å™¨`ç­‰ã€‚åœ¨é¢è¯•ä¸­ï¼Œå¸¸è§çš„ TypeScript é¢è¯•é¢˜ä¸»è¦å›´ç»•ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å±•å¼€ï¼š

1ã€ **ç±»å‹ç³»ç»Ÿ**ï¼šè€ƒå¯Ÿå¯¹ TypeScript ç±»å‹ç³»ç»Ÿçš„ç†è§£ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€æ¥å£ã€ç±»å‹åˆ«åã€ç±»å‹æ¨æ–­ã€ç±»å‹å®ˆå«ç­‰ã€‚

2ã€ **å‡½æ•°å’Œç±»**ï¼šæ¶‰åŠå‡½æ•°å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ã€ç®­å¤´å‡½æ•°ã€å‡½æ•°é‡è½½ã€ç±»çš„å®šä¹‰ã€ç»§æ‰¿ã€è®¿é—®ä¿®é¥°ç¬¦ç­‰æ¦‚å¿µã€‚

3ã€ **æ³›å‹**ï¼šè€ƒå¯Ÿåœ¨å‡½æ•°ã€ç±»å’Œæ¥å£ä¸­å¦‚ä½•ä½¿ç”¨æ³›å‹æ¥å¢åŠ ä»£ç çš„çµæ´»æ€§å’Œå¤ç”¨æ€§ã€‚

4ã€ **æ¨¡å—åŒ–**ï¼šé—®é¢˜å¯èƒ½æ¶‰åŠ ES6 æ¨¡å—åŒ–çš„è¯­æ³•ã€å¯¼å…¥å¯¼å‡ºæ–¹å¼ä»¥åŠæ¨¡å—è§£æç­‰å†…å®¹ã€‚

5ã€ **è£…é¥°å™¨**ï¼šäº†è§£å¯¹è£…é¥°å™¨çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬ç±»è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ä»¥åŠå‚æ•°è£…é¥°å™¨çš„å®šä¹‰å’Œåº”ç”¨ã€‚

6ã€**ç¼–è¯‘é…ç½®**ï¼šç†Ÿæ‚‰ tsconfig.json ä¸­çš„é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬ç¼–è¯‘ç›®æ ‡ã€æ¨¡å—ç³»ç»Ÿã€ä¸¥æ ¼æ¨¡å¼ç­‰ã€‚

7ã€**å·¥ç¨‹åŒ–å®è·µ**ï¼šäº†è§£ TypeScript åœ¨é¡¹ç›®ä¸­çš„å®é™…åº”ç”¨ï¼Œå¦‚ä¸ JavaScript çš„æ··ç”¨ã€ç¬¬ä¸‰æ–¹åº“çš„å£°æ˜æ–‡ä»¶ä½¿ç”¨ã€ç±»å‹å£°æ˜ç­‰ã€‚

### 1. ä»€ä¹ˆæ˜¯æ¥å£ï¼ˆinterfaceï¼‰ï¼Œå®ƒçš„ä½œç”¨ï¼Œæ¥å£çš„ä½¿ç”¨åœºæ™¯ã€‚æ¥å£å’Œç±»å‹åˆ«åï¼ˆType Aliasï¼‰çš„åŒºåˆ«

æ¥å£æ˜¯ç”¨äºæè¿°å¯¹è±¡çš„å½¢çŠ¶çš„ç»“æ„åŒ–ç±»å‹ã€‚å®ƒå®šä¹‰äº†å¯¹è±¡åº”è¯¥åŒ…å«å“ªäº›å±æ€§å’Œæ–¹æ³•ã€‚åœ¨TypeScriptä¸­ï¼Œæ¥å£å¯ä»¥ç”¨æ¥çº¦æŸå¯¹è±¡çš„ç»“æ„ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚ä¾‹å¦‚ï¼š

```ts
interface Person {
Â Â Â  name: string;
Â Â Â  age: number;
}
function greet(person: Person) {
Â Â Â  return `Hello, ${person.name}!`;
}
```

`æ¥å£`å’Œ`ç±»å‹åˆ«å`çš„åŒºåˆ«ï¼š

*   `æ¥å£`å®šä¹‰äº†ä¸€ä¸ªå¥‘çº¦ï¼Œæè¿°äº†å¯¹è±¡çš„å½¢çŠ¶ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œä»¥ä¾¿åœ¨å¤šä¸ªåœ°æ–¹å…±äº«ã€‚å®ƒå¯ä»¥è¢«ç±»ã€å¯¹è±¡å’Œå‡½æ•°å®ç°ã€‚
*   `ç±»å‹åˆ«å`ç»™ä¸€ä¸ªç±»å‹èµ·äº†ä¸€ä¸ªæ–°åå­—ï¼Œä¾¿äºåœ¨å¤šå¤„ä½¿ç”¨ã€‚å®ƒå¯ä»¥ç”¨äºåŸå§‹å€¼ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰ã€‚ä¸æ¥å£ä¸åŒï¼Œç±»å‹åˆ«åå¯ä»¥ç”¨äºåŸå§‹ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰ï¼Œè€Œä¸”è¿˜å¯ä»¥ä¸ºä»»æ„ç±»å‹æŒ‡å®šåå­—ã€‚

### 2. å¯¹ TypeScript ç±»ä¸­æˆå‘˜çš„ publicã€privateã€protectedã€readonly ä¿®é¥°ç¬¦çš„ç†è§£ï¼Ÿ

> `public`: æˆå‘˜éƒ½é»˜è®¤ä¸º`public`ï¼Œè¢«æ­¤é™å®šç¬¦ä¿®é¥°çš„æˆå‘˜æ˜¯å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ï¼›\
> `private`: è¢«æ­¤é™å®šç¬¦ä¿®é¥°çš„æˆå‘˜æ˜¯åªå¯ä»¥è¢«ç±»çš„å†…éƒ¨è®¿é—®ï¼›\
> `protected`: è¢«æ­¤é™å®šç¬¦ä¿®é¥°çš„æˆå‘˜æ˜¯åªå¯ä»¥è¢«ç±»çš„å†…éƒ¨ä»¥åŠç±»çš„å­ç±»è®¿é—®;\
> `readonly`: å…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚ åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚

### 3. ç±»å‹å£°æ˜å’Œç±»å‹æ¨æ–­çš„åŒºåˆ«ï¼Œå¹¶ä¸¾ä¾‹åº”ç”¨

Â ç±»å‹å£°æ˜æ˜¯æ˜¾å¼åœ°ä¸ºå˜é‡æˆ–å‡½æ•°æŒ‡å®šç±»å‹ï¼Œè€Œç±»å‹æ¨æ–­æ˜¯TypeScriptæ ¹æ®èµ‹å€¼è¯­å¥å³ä¾§çš„å€¼è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š

    ts
     ä»£ç è§£è¯»
    å¤åˆ¶ä»£ç 
    // ç±»å‹å£°æ˜
    let x: number;
    x = 10;
    // ç±»å‹æ¨æ–­
    let y = 20; // TypeScriptä¼šè‡ªåŠ¨æ¨æ–­yçš„ç±»å‹ä¸ºnumber

### 4. ä»€ä¹ˆæ˜¯æ³›å‹ï¼ˆgenericï¼‰ï¼Œå¦‚ä½•åˆ›å»ºæ³›å‹å‡½æ•°å’Œæ³›å‹ç±»ï¼Œå®é™…ç”¨é€”

`æ³›å‹`æ˜¯ä¸€ç§åœ¨å®šä¹‰å‡½æ•°ã€ç±»æˆ–æ¥å£æ—¶ä½¿ç”¨ç±»å‹å‚æ•°çš„æ–¹å¼ï¼Œä»¥å¢åŠ ä»£ç çš„çµæ´»æ€§å’Œé‡ç”¨æ€§ã€‚åœ¨TypeScriptä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ¥åˆ›å»ºæ³›å‹ã€‚ä¾‹å¦‚ï¼š

```ts
function identity<T>(arg: T): T {
Â Â Â  return arg;
}
// è°ƒç”¨æ³›å‹å‡½æ•°
let output = identity<string>("hello");
```

### 5. æšä¸¾ï¼ˆenumï¼‰æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä¼˜åŠ¿ï¼Œåº”ç”¨æ¡ˆä¾‹ã€‚æšä¸¾å’Œå¸¸é‡æšä¸¾çš„åŒºåˆ«

æšä¸¾æ˜¯ä¸€ç§å¯¹æ•°å­—å€¼é›†åˆè¿›è¡Œå‘½åçš„æ–¹å¼ã€‚å®ƒä»¬å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶æä¾›ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ¥ä½¿ç”¨ä¸€ç»„æœ‰æ„ä¹‰çš„å¸¸é‡ã€‚ä¾‹å¦‚ï¼š

```ts
enum Color {
Â Â Â  Red,
Â Â Â  Green,
Â Â Â  Blue
}

let selectedColor: Color = Color.Red;
```

æšä¸¾å’Œå¸¸é‡æšä¸¾çš„åŒºåˆ«:

*   `æšä¸¾`å¯ä»¥åŒ…å«è®¡ç®—å¾—å‡ºçš„å€¼ï¼Œè€Œå¸¸é‡æšä¸¾åˆ™åœ¨ç¼–è¯‘é˜¶æ®µè¢«åˆ é™¤ï¼Œå¹¶ä¸”ä¸èƒ½åŒ…å«è®¡ç®—å¾—å‡ºçš„å€¼ï¼Œå®ƒåªèƒ½åŒ…å«å¸¸é‡æˆå‘˜ã€‚
*   `å¸¸é‡æšä¸¾`åœ¨ç¼–è¯‘åä¼šè¢«åˆ é™¤ï¼Œè€Œæ™®é€šæšä¸¾ä¼šç”ŸæˆçœŸå®çš„å¯¹è±¡ã€‚

### 6. å¦‚ä½•å¤„ç†å¯ç©ºç±»å‹ï¼ˆnullable typesï¼‰å’Œundefinedç±»å‹ï¼Œå¦‚ä½•æ­£ç¡®å¤„ç†è¿™äº›ç±»å‹ä»¥é¿å…æ½œåœ¨é”™è¯¯

åœ¨TypeScriptä¸­ï¼Œå¯ç©ºç±»å‹æ˜¯æŒ‡ä¸€ä¸ªå˜é‡å¯ä»¥å­˜å‚¨ç‰¹å®šç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨`null`æˆ–`undefined`ã€‚ï¼ˆé€šè¿‡ä½¿ç”¨å¯ç©ºç±»å‹ï¼Œå¼€å‘è€…å¯ä»¥æ˜ç¡®è¡¨è¾¾ä¸€ä¸ªå˜é‡å¯èƒ½åŒ…å«ç‰¹å®šç±»å‹çš„å€¼ï¼Œä¹Ÿå¯èƒ½ä¸åŒ…å«å€¼ï¼ˆå³ä¸º`null`æˆ–`undefined`ï¼‰ã€‚è¿™æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶ä½¿å¾—å˜é‡çš„å¯èƒ½å–å€¼èŒƒå›´æ›´åŠ æ¸…æ™°æ˜äº†ï¼‰ã€‚

ä¸ºäº†å£°æ˜ä¸€ä¸ªå¯ç©ºç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨è”åˆç±»å‹ï¼ˆUnion Typesï¼‰ï¼Œä¾‹å¦‚ `number | null` æˆ– `string | undefined`ã€‚ ä¾‹å¦‚ï¼š

```ts
let numberOrNull: number | null = 10; 
numberOrNull = null; // å¯ä»¥èµ‹å€¼ä¸ºnull 
    
let stringOrUndefined: string | undefined = "Hello"; 
stringOrUndefined = undefined; // å¯ä»¥èµ‹å€¼ä¸ºundefined
```

### 7. ä»€ä¹ˆæ˜¯è”åˆç±»å‹å’Œäº¤å‰ç±»å‹

`è”åˆç±»å‹`è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œè€Œ`äº¤å‰ç±»å‹`è¡¨ç¤ºä¸€ä¸ªæ–°ç±»å‹ï¼Œå®ƒåŒ…å«äº†å¤šä¸ªç±»å‹çš„ç‰¹æ€§ã€‚

*   è”åˆç±»å‹ç¤ºä¾‹ï¼š

```ts
// typescript
let myVar: string | number;
myVar = "Hello"; // åˆæ³•
myVar = 123; // åˆæ³•
```

*   äº¤å‰ç±»å‹ç¤ºä¾‹ï¼š

```ts
interface A {
Â  a(): void;
}
interface B {
Â  b(): void;
}
type C = A & B; // è¡¨ç¤ºåŒæ—¶å…·å¤‡ A å’Œ B çš„ç‰¹æ€§
```

### 8. ä»€ä¹ˆæ˜¯TypeScriptä¸­çš„å£°æ˜æ–‡ä»¶ï¼ˆDeclaration Filesï¼‰

å£°æ˜æ–‡ä»¶ï¼ˆé€šå¸¸ä»¥ `.d.ts` æ‰©å±•åç»“å°¾ï¼‰ç”¨äºæè¿°å·²æœ‰ JavaScript ä»£ç åº“çš„ç±»å‹ä¿¡æ¯ã€‚å®ƒä»¬æä¾›äº†ç±»å‹å®šä¹‰å’Œå…ƒæ•°æ®ï¼Œä»¥ä¾¿åœ¨ TypeScript é¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›åº“æ—¶è·å¾—æ™ºèƒ½æ„ŸçŸ¥å’Œç±»å‹å®‰å…¨ã€‚

### 9. ä»€ä¹ˆæ˜¯å‘½åç©ºé—´ï¼ˆNamespaceï¼‰å’Œæ¨¡å—ï¼ˆModuleï¼‰Â 

`æ¨¡å—`

*   åœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­ï¼Œå¯ä»¥å°†ç›¸å…³çš„ä»£ç ç»„ç»‡åˆ°å•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨æ¨¡å—æ¥å¯¼å…¥å’Œå¯¼å‡ºè¿™äº›æ–‡ä»¶ä¸­çš„åŠŸèƒ½ã€‚
*   åœ¨ä¸€ä¸ª Node.js é¡¹ç›®ä¸­ï¼Œå¯ä»¥ä½¿ç”¨Â importÂ å’ŒÂ exportÂ å…³é”®å­—æ¥åˆ›å»ºæ¨¡å—ï¼Œä»è€Œæ›´å¥½åœ°ç»„ç»‡ä»£ç å¹¶ç®¡ç†ä¾èµ–å…³ç³»ã€‚

`å‘½åç©ºé—´`

*   åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä¸­ï¼Œå‘½åç©ºé—´å¯ä»¥ç”¨äºå°†å…·æœ‰ç›¸ä¼¼åŠŸèƒ½æˆ–å±æ€§çš„ç±»ã€æ¥å£ç­‰è¿›è¡Œåˆ†ç»„ï¼Œä»¥é¿å…å…¨å±€å‘½åå†²çªã€‚
*   è¿™åœ¨å¤§å‹çš„ JavaScript æˆ– TypeScript åº”ç”¨ç¨‹åºä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå¯ä»¥ç¡®ä¿ä»£ç ç»“æ„æ¸…æ™°ï¼Œå¹¶ä¸”ä¸ä¼šæ„å¤–åœ°é‡å¤å®šä¹‰ç›¸åŒçš„åç§°ã€‚

`æ¨¡å—`æä¾›äº†ä¸€ç§ç»„ç»‡ä»£ç çš„æ–¹å¼ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨å¤šä¸ªæ–‡ä»¶ä¸­å…±äº«ä»£ç ï¼Œ

`å‘½åç©ºé—´`åˆ™æä¾›äº†ä¸€ç§åœ¨å…¨å±€èŒƒå›´å†…ç»„ç»‡ä»£ç çš„æ–¹å¼ï¼Œé˜²æ­¢å‘½åå†²çªã€‚

æ¨¡å—ç¤ºä¾‹:

```ts
// greeter.ts
export function sayHello(name: string) {
Â  return `Hello, ${name}!`;
}
// app.ts
import { sayHello } from './greeter';
console.log(sayHello('John'));
```

å‘½åç©ºé—´ç¤ºä¾‹:

```ts
// greeter.ts
namespace Greetings {
Â  export function sayHello(name: string) {
Â Â Â  return `Hello, ${name}!`;
Â  }
}
// app.ts
<reference path="greeter.ts" />
console.log(Greetings.sayHello('John'));
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼š

*   ä½¿ç”¨æ¨¡å—æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â `export`Â å’ŒÂ `import`Â å…³é”®å­—æ¥å®šä¹‰å’Œå¼•å…¥æ¨¡å—ä¸­çš„å‡½æ•°æˆ–å˜é‡ã€‚
*   è€Œåœ¨å‘½åç©ºé—´ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Â namespaceÂ æ¥åˆ›å»ºå‘½åç©ºé—´ï¼Œå¹¶ä¸”éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰ä½¿ç”¨Â ` <reference path="file.ts" />Â `æ¥å¼•å…¥å‘½åç©ºé—´ã€‚

### 10. ä»€ä¹ˆæ˜¯ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰

ç±»å‹æ–­è¨€å…è®¸ç¨‹åºå‘˜æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚è¿™åœ¨éœ€è¦æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨æŸä¸ªå€¼çš„ç±»å‹æ—¶éå¸¸æœ‰ç”¨ã€‚

```ts
let someValue: any = "this is a string";
let strLength: number = (someValue as string).length;
```

### 11. TypeScriptä¸­çš„å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°æ˜¯ä»€ä¹ˆ

*   å¯é€‰å‚æ•°å…è®¸å‡½æ•°ä¸­çš„æŸäº›å‚æ•°ä¸ä¼ å€¼ï¼Œåœ¨å‚æ•°åé¢åŠ ä¸Šé—®å·`?`è¡¨ç¤ºå¯é€‰ã€‚
*   é»˜è®¤å‚æ•°å…è®¸åœ¨å£°æ˜å‡½æ•°æ—¶ä¸ºå‚æ•°æŒ‡å®š`é»˜è®¤å€¼`ï¼Œè¿™æ ·å¦‚æœè°ƒç”¨æ—¶æœªæä¾›å‚æ•°å€¼ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚

å¯é€‰å‚æ•°ç¤ºä¾‹ï¼š

```ts
function greet(name: string, greeting?: string) {
Â  if (greeting) {
Â Â Â  return `${greeting}, ${name}!`;
Â  } else {
Â Â Â  return `Hello, ${name}!`;
Â  }
}
```

é»˜è®¤å‚æ•°ç¤ºä¾‹ï¼š

```ts
function greet(name: string, greeting: string = "Hello") {
Â  return `${greeting}, ${name}!`;
}
```

### 12. ç±»å‹å®ˆå«ï¼ˆType Guardsï¼‰æ˜¯ä»€ä¹ˆ

ç±»å‹å®ˆå«æ˜¯ä¸€ç§ç”¨äºåœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹çš„æŠ€æœ¯ï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜åœ¨ç‰¹å®šçš„ä½œç”¨åŸŸå†…ç¼©å°å˜é‡çš„èŒƒå›´ï¼Œä»¥ç¡®ä¿æ­£ç¡®æ¨æ–­ç±»å‹ã€‚

```ts
function isString(test: any): test is string {
Â  return typeof test === "string";
}
if (isString(input)) {
Â  // input åœ¨æ­¤ä»£ç å—ä¸­è¢«æ”¶çª„ä¸º string ç±»å‹
}
```

### 13. ç´¢å¼•ç±»å‹ï¼ˆIndex Typesï¼‰æ˜¯ä»€ä¹ˆï¼Œå¥½å¤„æœ‰ä»€ä¹ˆ

ç´¢å¼•ç±»å‹å…è®¸æˆ‘ä»¬åœ¨ TypeScript ä¸­åˆ›å»ºå…·æœ‰åŠ¨æ€å±æ€§åç§°çš„å¯¹è±¡ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ ¹æ®å·²çŸ¥çš„é”®æ¥è·å–ç›¸åº”çš„å±æ€§ç±»å‹ã€‚ å¥½å¤„ï¼š

**1.åŠ¨æ€å±æ€§è®¿é—®**

> åœ¨å¤„ç†åŠ¨æ€å±æ€§åçš„å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•ç±»å‹æ¥å®ç°ç±»å‹å®‰å…¨çš„å±æ€§è®¿é—®ã€‚ä¾‹å¦‚ï¼Œå½“ä»æœåŠ¡å™¨è¿”å›çš„ JSON æ•°æ®ä¸­æå–å±æ€§æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ç´¢å¼•ç±»å‹æ¥ç¡®ä¿å±æ€§åå­˜åœ¨å¹¶è·å–å…¶å¯¹åº”çš„ç±»å‹ã€‚

**2.ä»£ç é‡ç”¨**

> å½“éœ€è¦åˆ›å»ºé€šç”¨å‡½æ•°æ¥æ“ä½œå¯¹è±¡å±æ€§æ—¶ï¼Œç´¢å¼•ç±»å‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°æ›´åŠ é€šç”¨å’Œçµæ´»çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé€šç”¨çš„å‡½æ•°å¯èƒ½éœ€è¦æ ¹æ®ä¼ å…¥çš„å±æ€§åç§°è·å–å±æ€§å€¼ï¼Œå¹¶è¿›è¡Œç‰¹å®šçš„å¤„ç†ã€‚

```ts
interface ServerData {
Â  id: number;
Â  name: string;
Â  age: number;
Â  // å¯èƒ½è¿˜æœ‰å…¶ä»–åŠ¨æ€å±æ€§
}
function getPropertyValue(obj: ServerData, key: keyof ServerData): void {
Â  console.log(obj[key]); // ç¡®ä¿ obj[key] çš„ç±»å‹æ˜¯æ­£ç¡®çš„ // è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç´¢å¼•ç±»å‹æ¥è·å–å±æ€§å€¼
}
```

**3.åŠ¨æ€æ‰©å±•å¯¹è±¡**

> å½“éœ€è¦å¤„ç†æ¥è‡ªå¤–éƒ¨æ¥æºï¼ˆæ¯”å¦‚ API å“åº”æˆ–æ•°æ®åº“æŸ¥è¯¢ï¼‰çš„åŠ¨æ€æ•°æ®æ—¶ï¼Œç´¢å¼•ç±»å‹å¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°å¤„ç†è¿™ç§æƒ…å†µï¼Œè€Œä¸å¿…ä¸ºæ¯ä¸ªå¯èƒ½çš„å±æ€§æ‰‹åŠ¨å®šä¹‰ç±»å‹ã€‚

```ts
interface DynamicObject {
Â  [key: string]: number | string; // å…è®¸ä»»æ„å±æ€§åï¼Œä½†å±æ€§å€¼å¿…é¡»ä¸º number æˆ– string ç±»å‹

}
function processDynamicData(data: DynamicObject): void {
Â  for (let key in data) {
Â Â Â  console.log(key + ": " + data[key]); // å¯¹ä»»æ„å±æ€§è¿›è¡Œå¤„ç†
Â  }
}
```

**4.ç±»å‹å®‰å…¨æ€§**

> ç´¢å¼•ç±»å‹å¯ä»¥å¢å¼ºä»£ç çš„ç±»å‹å®‰å…¨æ€§ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ•è·å¯èƒ½çš„å±æ€§åæ‹¼å†™é”™è¯¯æˆ–é”®ä¸å­˜åœ¨çš„æƒ…å†µã€‚

**5.æ˜ å°„ç±»å‹**

> TypeScript è¿˜æä¾›äº†æ˜ å°„ç±»å‹ï¼ˆMapped Typesï¼‰çš„æ¦‚å¿µï¼Œå®ƒä»¬åˆ©ç”¨ç´¢å¼•ç±»å‹å¯ä»¥æ ¹æ®ç°æœ‰ç±»å‹è‡ªåŠ¨ç”Ÿæˆæ–°ç±»å‹ã€‚è¿™åœ¨åˆ›å»ºæ–°ç±»å‹æ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“éœ€è¦åœ¨ç°æœ‰ç±»å‹çš„åŸºç¡€ä¸Šæ·»åŠ æˆ–ä¿®æ”¹å±æ€§æ—¶ã€‚

### 14. constå’Œreadonlyçš„åŒºåˆ«

å½“åœ¨TypeScriptä¸­ä½¿ç”¨`const`å’Œ`readonly`æ—¶ï¼Œå®ƒä»¬çš„è¡Œä¸ºæœ‰ä¸€äº›æ˜¾è‘—çš„åŒºåˆ«ï¼š

*   **constï¼š**

    *   `const`ç”¨äºå£°æ˜å¸¸é‡å€¼ã€‚ä¸€æ—¦è¢«èµ‹å€¼åï¼Œå…¶å€¼å°†ä¸èƒ½è¢«é‡æ–°èµ‹å€¼æˆ–ä¿®æ”¹ã€‚
    *   å¸¸é‡å¿…é¡»åœ¨å£°æ˜æ—¶å°±è¢«èµ‹å€¼ï¼Œå¹¶ä¸”è¯¥å€¼ä¸å¯æ”¹å˜ã€‚
    *   å¸¸é‡é€šå¸¸ç”¨äºå­˜å‚¨ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„å€¼ï¼Œä¾‹å¦‚æ•°å­¦å¸¸æ•°æˆ–å›ºå®šçš„é…ç½®å€¼ã€‚

```ts
const PI = 3.14;
PI = 3.14159; // Error: æ— æ³•é‡æ–°åˆ†é…å¸¸é‡
```

*   **readonlyï¼š**

    *   `readonly`å…³é”®å­—ç”¨äºæ ‡è®°ç±»çš„å±æ€§ï¼Œè¡¨æ˜è¯¥å±æ€§åªèƒ½åœ¨ç±»çš„æ„é€ å‡½æ•°æˆ–å£°æ˜æ—¶è¢«èµ‹å€¼ï¼Œå¹¶ä¸”ä¸èƒ½å†æ¬¡è¢«ä¿®æ”¹ã€‚
    *   `readonly`å±æ€§å¯ä»¥åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°ä¸­è¢«èµ‹å€¼ï¼Œä½†ä¹‹åä¸èƒ½å†è¢«ä¿®æ”¹ã€‚
    *   `readonly`å±æ€§é€šå¸¸ç”¨äºè¡¨ç¤ºå¯¹è±¡çš„æŸäº›å±æ€§æ˜¯åªè¯»çš„ï¼Œé˜²æ­¢å¤–éƒ¨ä»£ç ä¿®æ”¹è¿™äº›å±æ€§çš„å€¼ã€‚

```ts
class Person {
    readonly name: string;

    constructor(name: string) {
        this.name = name; // å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­èµ‹å€¼
    }
}

let person = new Person("Alice");
person.name = "Bob"; // Error: æ— æ³•åˆ†é…åˆ°"name"ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§
```

æ€»ç»“æ¥è¯´ï¼Œ`const`ä¸»è¦ç”¨äºå£°æ˜å¸¸é‡å€¼ï¼Œè€Œ`readonly`åˆ™ç”¨äºæ ‡è®°ç±»çš„å±æ€§ä½¿å…¶åªè¯»ã€‚

### 15. TypeScript ä¸­ any ç±»å‹çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæ»¥ç”¨ä¼šæœ‰ä»€ä¹ˆåæœ

åœ¨TypeScriptä¸­ï¼Œ`any`ç±»å‹çš„ä½œç”¨æ˜¯å…è®¸æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶ä¸æŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œä»è€Œå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å€¼ã€‚ä½¿ç”¨`any`ç±»å‹ç›¸å½“äºæ”¾å¼ƒäº†å¯¹è¯¥å€¼çš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œä½¿å¾—ä»£ç åœ¨ç¼–è¯‘é˜¶æ®µä¸ä¼šå¯¹è¿™äº›å€¼è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚

ä¸»è¦æƒ…å†µä¸‹ï¼Œ`any`ç±»å‹çš„ä½¿ç”¨åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š

*   å½“æˆ‘ä»¬ä¸ç¡®å®šä¸€ä¸ªå˜é‡æˆ–è¡¨è¾¾å¼çš„å…·ä½“ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨anyç±»å‹æ¥æš‚æ—¶ç»•è¿‡ç±»å‹æ£€æŸ¥ã€‚
*   åœ¨éœ€è¦ä¸åŠ¨æ€ç±»å‹çš„JavaScriptä»£ç äº¤äº’æ—¶ï¼Œå¯ä»¥ä½¿ç”¨anyç±»å‹æ¥å¤„ç†è¿™äº›åŠ¨æ€ç±»å‹çš„å€¼ã€‚
*   æœ‰æ—¶å€™æŸäº›æ“ä½œéš¾ä»¥æ˜ç¡®åœ°å®šä¹‰å…¶ç±»å‹ï¼Œæˆ–è€…éœ€è¦è¾ƒå¤æ‚çš„ç±»å‹æ¨å¯¼æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨anyç±»å‹ã€‚

**æ»¥ç”¨çš„åæœï¼š**

å°½ç®¡anyç±»å‹æä¾›äº†çµæ´»æ€§ï¼Œä½†ç”±äºå®ƒä¼šæ”¾å¼ƒTypeScriptçš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œå› æ­¤æ»¥ç”¨anyç±»å‹å¯èƒ½ä¼šé™ä½ä»£ç çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å½“æ»¥ç”¨`any`ç±»å‹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹åæœï¼š

**1.ä»£ç å¯è¯»æ€§ä¸‹é™ï¼š**

```ts
let data: any;
// ä»£ç ä¸­çš„ä½¿ç”¨æ–¹å¼
data.someUnknownMethod(); // åœ¨ç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™ï¼Œä½†å®é™…ä¸Šå¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯
```

**2.æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯ï¼š**

```ts
let myVariable: any = 123;
myVariable.toUpperCase(); // åœ¨ç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™ï¼Œä½†åœ¨è¿è¡Œæ—¶ä¼šå¼•å‘é”™è¯¯
```

**3.ç±»å‹å®‰å…¨å—æŸï¼š**

```ts
function add(x: any, y: any): any {
    return x + y; // ç¼–è¯‘å™¨æ— æ³•æ¨æ–­è¿”å›å€¼çš„å…·ä½“ç±»å‹
}
```

æ»¥ç”¨`any`ç±»å‹ä¼šå¯¼è‡´ä»£ç å¤±å»äº†TypeScriptå¼ºå¤§çš„ç±»å‹æ£€æŸ¥åŠŸèƒ½ï¼Œå¸¦æ¥äº†å¦‚ä¸‹é—®é¢˜ï¼š

*   å¯èƒ½å¼•å…¥æœªçŸ¥çš„è¿è¡Œæ—¶è¡Œä¸ºå’Œé”™è¯¯ã€‚
*   é™ä½äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ï¼Œå› ä¸ºéš¾ä»¥ç†è§£æŸäº›å˜é‡æˆ–å‚æ•°çš„å…·ä½“ç±»å‹ã€‚

å› æ­¤ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œåº”å°½é‡é¿å…è¿‡åº¦ä½¿ç”¨`any`ç±»å‹ã€‚å¯ä»¥é€šè¿‡åˆé€‚çš„ç±»å‹å£°æ˜ã€æ¥å£å®šä¹‰å’Œè”åˆç±»å‹ç­‰æ–¹å¼ï¼Œæé«˜ä»£ç çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

### 16. TypeScriptä¸­çš„thisæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„

åœ¨TypeScriptä¸­ï¼Œä¸JavaScriptç›¸æ¯”ï¼Œ`this`çš„è¡Œä¸ºåŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ã€‚ç„¶è€Œï¼ŒTypeScriptæä¾›äº†ç±»å‹æ³¨è§£å’Œç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´å®¹æ˜“åœ°ç†è§£å’Œå¤„ç†`this`å…³é”®å­—çš„ä½¿ç”¨ã€‚

> åœ¨noImplicitThisä¸ºtrue çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»å£°æ˜ this çš„ç±»å‹ï¼Œæ‰èƒ½åœ¨å‡½æ•°æˆ–è€…å¯¹è±¡ä¸­ä½¿ç”¨thisã€‚
>
> Typescriptä¸­ç®­å¤´å‡½æ•°çš„ this å’Œ ES6 ä¸­ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯ä¸€è‡´çš„ã€‚

åœ¨TypeScriptä¸­ï¼Œå½“å°†`noImplicitThis`è®¾ç½®ä¸º`true`æ—¶ï¼Œæ„å‘³ç€åœ¨å‡½æ•°æˆ–å¯¹è±¡ä¸­ä½¿ç”¨thisæ—¶ï¼Œå¿…é¡»æ˜¾å¼å£°æ˜`this`çš„ç±»å‹ã€‚è¿™ä¸€è®¾ç½®å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´æ˜ç¡®åœ°æŒ‡å®šthisçš„ç±»å‹ï¼Œä»¥é¿å…å› ä¸ºéšå¼çš„`this`å¼•ç”¨è€Œå¯¼è‡´çš„æ½œåœ¨é—®é¢˜ã€‚

å…·ä½“æ¥è¯´ï¼Œå¦‚æœå°†`noImplicitThis`è®¾ç½®ä¸º`true`ï¼Œåˆ™åœ¨ä¸‹åˆ—æƒ…å†µä¸‹å¿…é¡»æ˜¾å¼å£°æ˜thisçš„ç±»å‹ï¼š

*   åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨thisæ—¶ï¼Œéœ€è¦ä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–æ˜¾ç¤ºç»‘å®šthisã€‚
*   åœ¨æŸäº›ç±»æ–¹æ³•æˆ–å¯¹è±¡æ–¹æ³•ä¸­ï¼Œéœ€è¦æ˜ç¡®å®šä¹‰thisçš„ç±»å‹ã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts
class MyClass {
  private value: number = 42;

  public myMethod(this: MyClass) {
    console.log(this.value);
  }

  public myMethod2 = () => {
    console.log(this.value);
  }
}

let obj = new MyClass();
obj.myMethod(); // æ­¤å¤„å¿…é¡»ä¼ å…¥åˆé€‚çš„ this ç±»å‹
```

é€šè¿‡å°†`noImplicitThis`è®¾ç½®ä¸º`true`ï¼ŒTypeScriptè¦æ±‚æˆ‘ä»¬åœ¨ä½¿ç”¨`this`æ—¶æ˜ç¡®æŒ‡å®šå…¶ç±»å‹ï¼Œä»è€Œåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œæ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œå¸®åŠ©é¿å…ä¸€äº›å¯èƒ½å‡ºç°çš„é”™è¯¯å’Œä¸ç¡®å®šæ€§ã€‚

æ³¨ï¼š`noImplicitThis`æ˜¯TypeScriptç¼–è¯‘å™¨çš„ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼Œç”¨äºæ§åˆ¶åœ¨å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•ä¸­ä½¿ç”¨`this`æ—¶çš„ä¸¥æ ¼æ€§ã€‚å½“å°†`noImplicitThis`è®¾ç½®ä¸º`true`æ—¶ï¼Œæ„å‘³ç€å¿…é¡»æ˜¾å¼å£°æ˜`this`çš„ç±»å‹ï¼Œå¦åˆ™ä¼šè§¦å‘ç¼–è¯‘é”™è¯¯ã€‚

### 17. TypeScriptæ•°æ®ç±»å‹

åœ¨TypeScriptä¸­ï¼Œå¸¸è§çš„æ•°æ®ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

*   **åŸºæœ¬ç±»å‹**ï¼š

    *   `number`: è¡¨ç¤ºæ•°å­—ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°ã€‚
    *   `string`: è¡¨ç¤ºæ–‡æœ¬å­—ç¬¦ä¸²ã€‚
    *   `boolean`: è¡¨ç¤ºå¸ƒå°”å€¼ï¼Œå³`true`æˆ–`false`ã€‚
    *   `null`ã€`undefined`: åˆ†åˆ«è¡¨ç¤ºnullå’Œundefinedã€‚
    *   `symbol`: è¡¨ç¤ºå”¯ä¸€çš„ã€ä¸å¯å˜çš„å€¼ã€‚

*   **å¤åˆç±»å‹**ï¼š

    *   `array`: è¡¨ç¤ºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨`number[]`æˆ–`Array<number>`æ¥å£°æ˜å…¶ä¸­å…ƒç´ çš„ç±»å‹ã€‚
    *   `tuple`: è¡¨ç¤ºå…ƒç»„ï¼Œç”¨äºè¡¨ç¤ºå›ºå®šæ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚
    *   `enum`: è¡¨ç¤ºæšä¸¾ç±»å‹ï¼Œç”¨äºå®šä¹‰å…·åå¸¸é‡é›†åˆã€‚

*   **å¯¹è±¡ç±»å‹**ï¼š

    *   `object`: è¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œå³é™¤numberã€stringã€booleanã€symbolã€nullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚
    *   `interface`: ç”¨äºæè¿°å¯¹è±¡çš„ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é‡å¤ä½¿ç”¨ã€‚

*   **å‡½æ•°ç±»å‹**ï¼š

    *   `function`: è¡¨ç¤ºå‡½æ•°ç±»å‹ã€‚
    *   `void`: è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚
    *   `any`: è¡¨ç¤ºä»»æ„ç±»å‹ã€‚

*   **é«˜çº§ç±»å‹**ï¼š

    *   `union types`: è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚
    *   `intersection types`: è¡¨ç¤ºä¸€ä¸ªå€¼åŒæ—¶æ‹¥æœ‰å¤šç§ç±»å‹çš„ç‰¹æ€§ã€‚

### 18. interfaceå¯ä»¥ç»™Function/Array/Classï¼ˆIndexable)åšå£°æ˜å—

åœ¨TypeScriptä¸­ï¼Œ`interface`å¯ä»¥ç”¨æ¥å£°æ˜å‡½æ•°ã€æ•°ç»„å’Œç±»ï¼ˆå…·æœ‰ç´¢å¼•ç­¾åçš„ç±»ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ä»£ç ï¼š

**1. Interface å£°æ˜å‡½æ•°**

```ts
interface MyFunc {
  (x: number, y: number): number;
}

let myAdd: MyFunc = function(x, y) {
  return x + y;
};
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`MyFunc`æ¥å£æè¿°äº†ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ•°å­—ã€‚

**2. Interface å£°æ˜æ•°ç»„**

```ts
interface StringArray {
  [index: number]: string;
}

let myArray: StringArray;
myArray = ["Bob", "Alice"];
```

ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ`StringArray`æ¥å£æè¿°äº†ä¸€ä¸ªå…·æœ‰æ•°å­—ç´¢å¼•ç­¾åçš„å­—ç¬¦ä¸²æ•°ç»„ã€‚æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°å­—ç´¢å¼•æ¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚

**3. Interface å£°æ˜ç±»ï¼ˆIndexableï¼‰**

```ts
interface StringDictionary {
  [index: string]: string;
}

let myDict: StringDictionary = {
  "name": "John",
  "age": "30"
};
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`StringDictionary`æ¥å£ç”¨äºæè¿°å…·æœ‰å­—ç¬¦ä¸²ç´¢å¼•ç­¾åçš„ç±»æˆ–å¯¹è±¡ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åƒæ“ä½œå­—å…¸ä¸€æ ·ä½¿ç”¨å¯¹è±¡çš„å±æ€§ã€‚

ç»¼ä¸Šï¼šTypeScriptä¸­çš„`interface`å¯ä»¥è¢«ç”¨æ¥å£°æ˜å‡½æ•°ã€æ•°ç»„å’Œå…·æœ‰ç´¢å¼•ç­¾åçš„ç±»ï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬å®šä¹‰å’Œé™å®šè¿™äº›æ•°æ®ç»“æ„çš„å½¢å¼å’Œè¡Œä¸ºã€‚

### 19. TypeScriptä¸­çš„åå˜ã€é€†å˜ã€åŒå˜å’ŒæŠ—å˜æ˜¯ä»€ä¹ˆ

åœ¨TypeScriptä¸­ï¼Œ`åå˜ï¼ˆCovarianceï¼‰`ã€`é€†å˜ï¼ˆContravarianceï¼‰`ã€`åŒå˜ï¼ˆBivarianceï¼‰`å’Œ`æŠ—å˜ï¼ˆInvariance` æ˜¯ä¸ç±»å‹ç›¸å…³çš„æ¦‚å¿µï¼Œæ¶‰åŠåˆ°å‚æ•°ç±»å‹çš„å­ç±»å‹å…³ç³»ã€‚ä¸‹é¢å¯¹è¿™äº›æ¦‚å¿µè¿›è¡Œè§£é‡Šï¼Œå¹¶æä¾›ç¤ºä¾‹ä»£ç ã€‚

**åå˜ï¼ˆCovarianceï¼‰**

*   **åŒºåˆ«**ï¼šåå˜æ„å‘³ç€å­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ã€‚
*   **åº”ç”¨åœºæ™¯**ï¼šæ•°ç»„ç±»å‹æ˜¯åå˜çš„ï¼Œå› æ­¤å¯ä»¥å°†å­ç±»å‹çš„æ•°ç»„èµ‹å€¼ç»™çˆ¶ç±»å‹çš„æ•°ç»„ã€‚

`åå˜`è¡¨ç¤ºç±»å‹Tçš„å­ç±»å‹å¯ä»¥èµ‹å€¼ç»™ç±»å‹Uï¼Œå½“ä¸”ä»…å½“Tæ˜¯Uçš„å­ç±»å‹ã€‚åœ¨TypeScriptä¸­ï¼Œ`æ•°ç»„`æ˜¯åå˜çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†å­ç±»å‹çš„æ•°ç»„èµ‹å€¼ç»™çˆ¶ç±»å‹çš„æ•°ç»„ã€‚

```ts
let subtypes: string[] = ["hello", "world"];
let supertype: Object[] = subtypes; // æ•°ç»„æ˜¯åå˜çš„ï¼Œè¿™æ˜¯åˆæ³•çš„
```

**é€†å˜ï¼ˆContravarianceï¼‰**

*   **åŒºåˆ«**ï¼šé€†å˜æ„å‘³ç€è¶…ç±»å‹å¯ä»¥èµ‹å€¼ç»™å­ç±»å‹ã€‚
*   **åº”ç”¨åœºæ™¯**ï¼šå‡½æ•°å‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œå› æ­¤å¯ä»¥å°†è¶…ç±»å‹çš„å‡½æ•°èµ‹å€¼ç»™å­ç±»å‹çš„å‡½æ•°ã€‚

`é€†å˜`è¡¨ç¤ºç±»å‹Tçš„è¶…ç±»å‹å¯ä»¥èµ‹å€¼ç»™ç±»å‹Uï¼Œå½“ä¸”ä»…å½“Tæ˜¯Uçš„å­ç±»å‹ã€‚åœ¨TypeScriptä¸­ï¼Œ`å‡½æ•°å‚æ•°`æ˜¯é€†å˜çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†è¶…ç±»å‹çš„å‡½æ•°èµ‹å€¼ç»™å­ç±»å‹çš„å‡½æ•°ã€‚

```ts
type Logger<T> = (arg: T) => void;
let logNumber: Logger<number> = (x: number) => console.log(x);
let logAny: Logger<any> = logNumber; // å‡½æ•°å‚æ•°æ˜¯é€†å˜çš„ï¼Œè¿™æ˜¯åˆæ³•çš„
```

**åŒå˜ï¼ˆBivarianceï¼‰**

*   **åŒºåˆ«**ï¼šåŒå˜å…è®¸å‚æ•°ç±»å‹æ—¢æ˜¯åå˜åˆæ˜¯é€†å˜çš„ã€‚
*   **åº”ç”¨åœºæ™¯**ï¼šå¯¹è±¡ç±»å‹æ˜¯åŒå˜çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†å­ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»å‹çš„å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å°†è¶…ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„å¯¹è±¡ã€‚

`åŒå˜`å…è®¸å‚æ•°ç±»å‹æ—¢æ˜¯`åå˜`åˆæ˜¯`é€†å˜`çš„ã€‚åœ¨TypeScriptä¸­ï¼Œ`æ™®é€šå¯¹è±¡ç±»å‹`æ˜¯åŒå˜çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†å­ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥å°†è¶…ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„å¯¹è±¡ã€‚

```ts
interface Animal {
  name: string;
}

interface Dog extends Animal {
  breed: string;
}

let animal: Animal = { name: "Animal" };
let dog: Dog = { name: "Dog", breed: "Labrador" };

animal = dog; // å¯¹è±¡ç±»å‹æ˜¯åŒå˜çš„ï¼Œè¿™æ˜¯åˆæ³•çš„
dog = animal; // å¯¹è±¡ç±»å‹æ˜¯åŒå˜çš„ï¼Œè¿™ä¹Ÿæ˜¯åˆæ³•çš„
```

**æŠ—å˜ï¼ˆInvarianceï¼‰**

*   **åŒºåˆ«**ï¼šæŠ—å˜è¡¨ç¤ºä¸å…è®¸ç±»å‹ä¹‹é—´çš„ä»»ä½•èµ‹å€¼å…³ç³»ã€‚
*   **åº”ç”¨åœºæ™¯**ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸºæœ¬ç±»å‹å’Œç±»ç±»å‹æ˜¯æŠ—å˜çš„ã€‚

`æŠ—å˜`è¡¨ç¤ºä¸å…è®¸ç±»å‹Tå’ŒUä¹‹é—´çš„ä»»ä½•èµ‹å€¼å…³ç³»ï¼Œå³Tæ—¢ä¸æ˜¯Uçš„å­ç±»å‹ï¼Œä¹Ÿä¸æ˜¯Uçš„è¶…ç±»å‹ã€‚åœ¨TypeScriptä¸­ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ`åŸºæœ¬ç±»å‹`å’Œ`ç±»ç±»å‹`æ˜¯æŠ—å˜çš„ã€‚

```ts
let x: string = "hello";
let y: string = x; // è¿™æ˜¯åˆæ³•çš„

let a: Animal = { name: "Animal" };
let b: Animal = a; // è¿™ä¹Ÿæ˜¯åˆæ³•çš„
```

### 20. TypeScriptä¸­çš„é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«

*   `é™æ€ç±»å‹`æ˜¯åœ¨ **ç¼–è¯‘æœŸé—´** è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥åœ¨ç¼–è¾‘å™¨æˆ– IDE ä¸­å‘ç°å¤§éƒ¨åˆ†ç±»å‹é”™è¯¯ã€‚
*   `åŠ¨æ€ç±»å‹`æ˜¯åœ¨ **è¿è¡Œæ—¶** æ‰ç¡®å®šå˜é‡çš„ç±»å‹ï¼Œé€šå¸¸ä¸åŠ¨æ€è¯­è¨€ç›¸å…³è”ã€‚

**é™æ€ç±»å‹ï¼ˆStatic Typingï¼‰**

*   **å®šä¹‰**ï¼šé™æ€ç±»å‹æ˜¯æŒ‡åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥çš„ç±»å‹ç³»ç»Ÿï¼Œé€šè¿‡ç±»å‹æ³¨è§£æˆ–æ¨æ–­æ¥ç¡®å®šå˜é‡ã€å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚
*   **ç‰¹ç‚¹**ï¼šé™æ€ç±»å‹èƒ½å¤Ÿåœ¨ç¼–ç é˜¶æ®µå°±å‘ç°å¤§éƒ¨åˆ†ç±»å‹é”™è¯¯ï¼Œæä¾›äº†æ›´å¥½çš„ä»£ç å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
*   **ä¼˜åŠ¿**ï¼šå¯ä»¥åœ¨ç¼–è¾‘å™¨æˆ– IDE ä¸­å®ç°ä»£ç æç¤ºã€è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€æŸ¥ï¼Œå¸®åŠ©å¼€å‘è€…å‡å°‘é”™è¯¯å¹¶æé«˜ä»£ç è´¨é‡ã€‚

**åŠ¨æ€ç±»å‹ï¼ˆDynamic Typingï¼‰**

*   **å®šä¹‰**ï¼šåŠ¨æ€ç±»å‹æ˜¯æŒ‡åœ¨è¿è¡Œæ—¶æ‰ç¡®å®šå˜é‡çš„ç±»å‹ï¼Œé€šå¸¸ä¸åŠ¨æ€è¯­è¨€ç›¸å…³è”ï¼Œå…è®¸åŒä¸€ä¸ªå˜é‡åœ¨ä¸åŒæ—¶é—´å¼•ç”¨ä¸åŒç±»å‹çš„å€¼ã€‚
*   **ç‰¹ç‚¹**ï¼šåŠ¨æ€ç±»å‹ä½¿å¾—å˜é‡çš„ç±»å‹çµæ´»å¤šå˜ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æˆ–æ¡ä»¶åŠ¨æ€åœ°æ”¹å˜å˜é‡çš„ç±»å‹ã€‚
*   **ä¼˜åŠ¿**ï¼šåŠ¨æ€ç±»å‹å¯ä»¥å¸¦æ¥æ›´å¤§çš„çµæ´»æ€§ï¼Œé€‚ç”¨äºä¸€äº›éœ€è¦é¢‘ç¹å˜åŒ–ç±»å‹çš„åœºæ™¯ã€‚

**åŒºåˆ«æ€»ç»“**

*   **æ—¶æœºå·®å¼‚**ï¼šé™æ€ç±»å‹åœ¨ç¼–è¯‘æœŸé—´è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè€ŒåŠ¨æ€ç±»å‹æ˜¯åœ¨è¿è¡Œæ—¶æ‰ç¡®å®šå˜é‡çš„ç±»å‹ã€‚
*   **ä»£ç ç¨³å®šæ€§**ï¼šé™æ€ç±»å‹æœ‰åŠ©äºåœ¨ç¼–ç é˜¶æ®µå‘ç°å¤§éƒ¨åˆ†ç±»å‹é”™è¯¯ï¼Œæé«˜ä»£ç ç¨³å®šæ€§ï¼›åŠ¨æ€ç±»å‹å¯¹ç±»å‹çš„è¦æ±‚è¾ƒä¸ºçµæ´»ï¼Œä½†å¯èƒ½å¢åŠ äº†ä»£ç çš„ä¸ç¡®å®šæ€§ã€‚
*   **ä½¿ç”¨åœºæ™¯**ï¼šé™æ€ç±»å‹é€‚åˆäºå¤§å‹é¡¹ç›®å’Œå›¢é˜Ÿï¼Œèƒ½å¤Ÿæä¾›æ›´å¼ºçš„ç±»å‹å®‰å…¨æ€§ï¼›åŠ¨æ€ç±»å‹é€‚ç”¨äºå¿«é€ŸåŸå‹å¼€å‘å’Œçµæ´»å¤šå˜çš„åœºæ™¯ï¼Œèƒ½å¤Ÿæ›´å¿«åœ°è¿­ä»£å’Œæµ‹è¯•ä»£ç ã€‚

### 21. ä»‹ç»TypeScriptä¸­çš„å¯é€‰å±æ€§ã€åªè¯»å±æ€§å’Œç±»å‹æ–­è¨€

*   **å¯é€‰å±æ€§** ä½¿ç”¨Â `?`Â æ¥æ ‡è®°ä¸€ä¸ªå±æ€§å¯ä»¥å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥ä¸å­˜åœ¨ã€‚
*   **åªè¯»å±æ€§** ä½¿ç”¨Â `readonly`Â å…³é”®å­—æ¥æ ‡è®°ä¸€ä¸ªå±æ€§æ˜¯åªè¯»çš„ã€‚
*   **ç±»å‹æ–­è¨€** å…è®¸å°†ä¸€ä¸ªå®ä½“å¼ºåˆ¶æŒ‡å®šä¸ºç‰¹å®šçš„ç±»å‹ï¼Œä½¿ç”¨Â `<Type>`Â æˆ–Â `value as Type`ã€‚

**ä»£ç ç¤ºä¾‹ï¼š**

```ts
// å¯é€‰å±æ€§
interface Person {
  name: string;
  age?: number; // å¯é€‰å±æ€§
}

// åªè¯»å±æ€§
interface Point {
  readonly x: number;
  readonly y: number;
}
let p1: Point = { x: 10, y: 20 };
p1.x = 5; // Error: åªè¯»å±æ€§æ— æ³•é‡æ–°èµ‹å€¼

// ç±»å‹æ–­è¨€
let someValue: any = "hello";
let strLength: number = (someValue as string).length;
```

### 22. TypeScript ä¸­çš„æ¨¡å—åŒ–æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¸¾ä¾‹è¯´æ˜

**ç­”æ¡ˆï¼š**

*   TypeScript ä¸­ä½¿ç”¨ ES6 æ¨¡å—ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨Â `import`Â å’ŒÂ `export`Â å…³é”®å­—æ¥å¯¼å…¥å’Œå¯¼å‡ºæ¨¡å—ã€‚
*   å¯ä»¥é€šè¿‡Â `export default`Â å¯¼å‡ºé»˜è®¤æ¨¡å—ï¼Œåœ¨å¯¼å…¥æ—¶å¯ä»¥ä½¿ç”¨Â `import moduleName from 'modulePath'`ã€‚

**ä»£ç ç¤ºä¾‹ï¼š**

```ts
// math.ts
export function sum(a: number, b: number): number {
  return a + b;
}
export function subtract(a: number, b: number): number {
  return a - b;
}

// app.ts
import { sum, subtract } from './math';
console.log(sum(3, 5)); // è¾“å‡º 8
```

### 23. å¦‚ä½•çº¦æŸæ³›å‹å‚æ•°çš„ç±»å‹èŒƒå›´

å¯ä»¥ä½¿ç”¨æ³›å‹çº¦æŸï¼ˆ`extendså…³é”®å­—`ï¼‰æ¥é™åˆ¶æ³›å‹å‚æ•°çš„ç±»å‹èŒƒå›´ï¼Œç¡®ä¿æ³›å‹å‚æ•°ç¬¦åˆæŸç§ç‰¹å®šçš„æ¡ä»¶ã€‚

**ä»£ç ç¤ºä¾‹ï¼š**

```ts
interface Lengthwise {
  length: number;
}
function loggingIdentity<T extends Lengthwise>(arg: T): T {
  console.log(arg.length);
  return arg;
}
loggingIdentity({length: 10, value: 3});  // å‚æ•°æ»¡è¶³ Lengthwise æ¥å£è¦æ±‚ï¼Œå¯ä»¥æ­£å¸¸è°ƒç”¨
```

### 24. ä»€ä¹ˆæ˜¯æ³›å‹çº¦æŸä¸­çš„ keyof å…³é”®å­—ï¼Œä¸¾ä¾‹è¯´æ˜å…¶ç”¨æ³•ã€‚

*   `keyof`Â æ˜¯ TypeScript ä¸­ç”¨æ¥è·å–å¯¹è±¡ç±»å‹æ‰€æœ‰é”®ï¼ˆå±æ€§åï¼‰çš„æ“ä½œç¬¦ã€‚
*   å¯ä»¥ä½¿ç”¨Â `keyof`Â æ¥å®šä¹‰æ³›å‹çº¦æŸï¼Œé™åˆ¶æ³›å‹å‚æ•°ä¸ºæŸä¸ªå¯¹è±¡çš„é”®ã€‚

**ä»£ç ç¤ºä¾‹ï¼š**

```ts
function getProperty<T, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}
let x = { a: 1, b: 2, c: 3 };
getProperty(x, "a"); // æ­£ç¡®
getProperty(x, "d"); // é”™è¯¯ï¼šArgument of type '"d"' is not assignable to parameter of type '"a" | "b" | "c"'
```

### 25. ä»€ä¹ˆæ˜¯æ¡ä»¶ç±»å‹ï¼ˆconditional typesï¼‰ï¼Œèƒ½å¤Ÿä¸¾ä¾‹è¯´æ˜å…¶ä½¿ç”¨åœºæ™¯å—

*   æ¡ä»¶ç±»å‹æ˜¯ TypeScript ä¸­çš„é«˜çº§ç±»å‹æ“ä½œç¬¦ï¼Œå¯ä»¥æ ¹æ®ä¸€ä¸ªç±»å‹å…³ç³»åˆ¤æ–­ç»“æœç±»å‹ã€‚
*   ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶ç±»å‹å®ç°ä¸€ä¸ªç±»å‹è¿‡æ»¤å™¨ï¼Œæ ¹æ®è¾“å…¥ç±»å‹è¾“å‡ºä¸åŒçš„ç»“æœç±»å‹ã€‚

**ä»£ç ç¤ºä¾‹ï¼š**

```ts
type NonNullable<T> = T extends null | undefined ? never : T;
type T0 = NonNullable<string | null>;  // string
type T1 = NonNullable<string | null | undefined>;  // string
type T2 = NonNullable<string | number | null>;  // string | number
```

### 25. ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¦‚ä½•åœ¨TypeScriptä¸­ä½¿ç”¨ç±»è£…é¥°å™¨

*   `è£…é¥°å™¨`æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå¯ä»¥é™„åŠ åˆ°ç±»ã€æ–¹æ³•ã€è®¿é—®ç¬¦ã€å±æ€§æˆ–å‚æ•°ä¸Šï¼Œä»¥ä¿®æ”¹å…¶è¡Œä¸ºã€‚
*   åœ¨ TypeScript ä¸­ï¼Œè£…é¥°å™¨æä¾›äº†ä¸€ç§åœ¨å£°æ˜æ—¶å®šä¹‰å¦‚ä½•å¤„ç†ç±»çš„æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°çš„æœºåˆ¶ã€‚

**å¦‚ä½•åœ¨ TypeScript ä¸­ä½¿ç”¨ç±»è£…é¥°å™¨ï¼š**

```ts
function classDecorator<T extends { new(...args: any[]): {} }>(constructor: T) {
  return class extends constructor {
    newProperty = "new property";
    hello = "override";
  };
}

@classDecorator
class Greeter {
  property = "property";
  hello: string;
  constructor(m: string) {
    this.hello = m;
  }
}
console.log(new Greeter("world")); // è¾“å‡º { property: 'property', hello: 'override', newProperty: 'new property' }
```

### 26. ç±»è£…é¥°å™¨å’Œæ–¹æ³•è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„

*   å½“æœ‰`å¤šä¸ªè£…é¥°å™¨åº”ç”¨äºåŒä¸€ä¸ªå£°æ˜`æ—¶ï¼ˆæ¯”å¦‚ä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•ï¼‰ï¼Œå®ƒä»¬å°†æŒ‰ç…§`è‡ªä¸‹è€Œä¸Š`çš„é¡ºåºåº”ç”¨ã€‚
*   å¯¹äº`æ–¹æ³•è£…é¥°å™¨`ï¼Œä»é¡¶å±‚æ–¹æ³•å¼€å§‹`ä¾æ¬¡å‘ä¸‹` `é€’å½’è°ƒç”¨`æ–¹æ³•è£…é¥°å™¨å‡½æ•°ã€‚

### 27. è£…é¥°å™¨å·¥å‚æ˜¯ä»€ä¹ˆï¼Œè¯·ç»™å‡ºä¸€ä¸ªè£…é¥°å™¨å·¥å‚çš„ä½¿ç”¨ç¤ºä¾‹

*   `è£…é¥°å™¨å·¥å‚`æ˜¯ä¸€ä¸ªè¿”å›è£…é¥°å™¨çš„å‡½æ•°ã€‚å®ƒå¯ä»¥æ¥å—å‚æ•°ï¼Œå¹¶æ ¹æ®å‚æ•°åŠ¨æ€ç”Ÿæˆè£…é¥°å™¨ã€‚

**ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨å·¥å‚ç¤ºä¾‹ï¼š**

```ts
function color(value: string) {
  return function (target: any, propertyKey: string) {
    // ... åœ¨æ­¤å¤„ä½¿ç”¨ value å’Œå…¶ä»–å‚æ•°æ¥æ“ä½œè£…é¥°ç›®æ ‡
  };
}

class Car {
  @color('red')
  brand: string;
}
```

### 28. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ TypeScript ? TypeScript ç›¸å¯¹äº JavaScript çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ

> å¢åŠ äº†é™æ€ç±»å‹ï¼Œå¯ä»¥åœ¨å¼€å‘äººå‘˜ç¼–å†™è„šæœ¬æ—¶æ£€æµ‹é”™è¯¯ï¼Œä½¿å¾—ä»£ç è´¨é‡æ›´å¥½ï¼Œæ›´å¥å£®ã€‚\
> ä¼˜åŠ¿:
>
> 1.  æœç»æ‰‹è¯¯å¯¼è‡´çš„å˜é‡åå†™é”™;
> 2.  ç±»å‹å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šå……å½“æ–‡æ¡£;
> 3.  IDEè‡ªåŠ¨å¡«å……ï¼Œè‡ªåŠ¨è”æƒ³;

### 29. TypeScript ä¸­ const å’Œ readonly çš„åŒºåˆ«ï¼Ÿæšä¸¾å’Œå¸¸é‡æšä¸¾çš„åŒºåˆ«ï¼Ÿæ¥å£å’Œç±»å‹åˆ«åçš„åŒºåˆ«ï¼Ÿ

> `const å’Œ readonly`: constå¯ä»¥é˜²æ­¢å˜é‡çš„å€¼è¢«ä¿®æ”¹ï¼Œreadonlyå¯ä»¥é˜²æ­¢å˜é‡çš„å±æ€§è¢«ä¿®æ”¹ã€‚\
> `æšä¸¾å’Œå¸¸é‡æšä¸¾`: å¸¸é‡æšä¸¾åªèƒ½ä½¿ç”¨å¸¸é‡æšä¸¾è¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä¸åŒäºå¸¸è§„çš„æšä¸¾ï¼Œå®ƒä»¬åœ¨ç¼–è¯‘é˜¶æ®µä¼šè¢«åˆ é™¤ã€‚ å¸¸é‡æšä¸¾æˆå‘˜åœ¨ä½¿ç”¨çš„åœ°æ–¹ä¼šè¢«å†…è”è¿›æ¥ã€‚ ä¹‹æ‰€ä»¥å¯ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸ºï¼Œå¸¸é‡æšä¸¾ä¸å…è®¸åŒ…å«è®¡ç®—æˆå‘˜ã€‚\
> `æ¥å£å’Œç±»å‹åˆ«å`: ä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥æè¿°å¯¹è±¡æˆ–å‡½æ•°çš„ç±»å‹ã€‚ä¸æ¥å£ä¸åŒï¼Œç±»å‹åˆ«åè¿˜å¯ä»¥ç”¨äºå…¶ä»–ç±»å‹ï¼Œå¦‚åŸºæœ¬ç±»å‹ï¼ˆåŸå§‹å€¼ï¼‰ã€è”åˆç±»å‹ã€å…ƒç»„ã€‚

### 30. TypeScript ä¸­ anyã€neverã€unknownã€null & undefined å’Œ void æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

> `any`: åŠ¨æ€çš„å˜é‡ç±»å‹ï¼ˆå¤±å»äº†ç±»å‹æ£€æŸ¥çš„ä½œç”¨ï¼‰ã€‚\
> `never`: æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼šnever ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ã€‚\
> `unknown`: ä»»ä½•ç±»å‹çš„å€¼éƒ½å¯ä»¥èµ‹ç»™Â unknownÂ ç±»å‹ï¼Œä½†æ˜¯Â unknownÂ ç±»å‹çš„å€¼åªèƒ½èµ‹ç»™Â unknownÂ æœ¬èº«å’ŒÂ anyÂ ç±»å‹ã€‚\
> `null & undefined`: é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠÂ null å’Œ undefined èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ã€‚å½“ä½ æŒ‡å®šäº† --strictNullChecks æ ‡è®°ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªã€‚\
> `void`: æ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªå‡½æ•°å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›å€¼å¯ä»¥å®šä¹‰ä¸ºvoidã€‚

### 31. æ•°ç»„å®šä¹‰çš„ä¸¤ç§æ–¹å¼

> ```ts
> type Foo= Array<string>;
> interface Bar { 
>      baz: Array<{ name: string, age: number}>
> }
>
> type Foo = string[];
> interface Bar { 
>      baz : { name: string, age: number }[] 
> }
> ```

### 32. TypeScript ä¸­ interface å¯ä»¥ç»™ Function / Array / Classï¼ˆIndexableï¼‰åšå£°æ˜å—ï¼Ÿ

> ```ts
> /* å¯ä»¥ */
> // å‡½æ•°å£°æ˜
> interface Say {
>  (name: string): viod;
> }
> let say: Say = (name: string):viod => {}
> // Array å£°æ˜
> interface NumberArray { 
>  [index: number]: number; 
> } 
> let fibonacci: NumberArray = [1, 1, 2, 3, 5];
> // Class å£°æ˜
> interface PersonalIntl {
>  name: string
>  sayHi (name: string): string
> }
> ```

### 33. TypeScript ä¸­å¯ä»¥ä½¿ç”¨ Stringã€Numberã€Booleanã€Symbolã€Object ç­‰ç»™ç±»å‹åšå£°æ˜å—ï¼Ÿ

> ```ts
> /* å¯ä»¥ */
> let name: string = "bob";
> let decLiteral: number = 6;
> let isDone: boolean = false;
> let sym: symbol = Symbol();
> interface Person {
>  name: string;
>  age: number;
> }
> ```

### 34. TypeScript ä¸­çš„ this å’Œ JavaScript ä¸­çš„ this æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ

> 1.  TypeScriptï¼šnoImplicitThis: true çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»å»å£°æ˜ this çš„ç±»å‹ï¼Œæ‰èƒ½åœ¨å‡½æ•°æˆ–è€…å¯¹è±¡ä¸­ä½¿ç”¨thisã€‚
> 2.  Typescript ä¸­ç®­å¤´å‡½æ•°çš„ this å’Œ ES6 ä¸­ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯ä¸€è‡´çš„ã€‚

### 35. TypeScript ä¸­ä½¿ç”¨ Union Types æ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ

> **å±æ€§æˆ–æ–¹æ³•è®¿é—®**: å½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•ã€‚
>
> ```ts
> function getLength(something: string | number): number {
>    return something.length;
> }
> // index.ts(2,22): error TS2339: Property 'length' does not exist on type >'string | number'.
> //   Property 'length' does not exist on type 'number'.
>
> function getString(something: string | number): string {
>    return something.toString();
> }
> // å…¬å…±æ–¹æ³•å’Œå±æ€§å¯ä»¥è®¿é—®
> ```

### 36. TypeScript å¦‚ä½•è®¾è®¡ Class çš„å£°æ˜ï¼Ÿ

> ```ts
> class Greeter {
>    greeting: string;
>    constructor(message: string) {
>        this.greeting = message;
>    }
>    greet(): string{
>        return "Hello, " + this.greeting;
>    }
> }
> let greeter = new Greeter("world");
> // åœ¨å£°æ˜ç±»çš„æ—¶å€™ï¼Œä¸€èˆ¬ç±»ä¸­éƒ½ä¼šåŒ…å«ï¼Œæ„é€ å‡½æ•°ã€å¯¹æ„é€ å‡½æ•°ä¸­çš„å±æ€§è¿›è¡Œç±»å‹å£°æ˜ã€ç±»ä¸­çš„æ–¹æ³•ã€‚
> ```

### 37. TypeScript ä¸­å¦‚ä½•è”åˆæšä¸¾ç±»å‹çš„ Key?

> ```ts
> enum str {
>    A,
>    B,
>    C
> }
> type strUnion =  keyof typeof str; // 'A' | 'B' | 'C'
> ```

### 38. TypeScript ä¸­ type å’Œ interface çš„åŒºåˆ«?

> ç›¸åŒç‚¹ï¼š
>
> 1.  éƒ½å¯ä»¥æè¿° 'å¯¹è±¡' æˆ–è€… 'å‡½æ•°'
> 2.  éƒ½å…è®¸æ‹“å±•(extends)
>
> ä¸åŒç‚¹ï¼š
>
> 1.  type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹ï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„
>
> 2.  type å¯ä»¥ä½¿ç”¨ typeof è·å–å®ä¾‹çš„ç±»å‹è¿›è¡Œèµ‹å€¼
>
> 3.  å¤šä¸ªç›¸åŒçš„ interface å£°æ˜å¯ä»¥è‡ªåŠ¨åˆå¹¶
>
> ä½¿ç”¨ interface æè¿°â€˜æ•°æ®ç»“æ„â€™ï¼Œä½¿ç”¨ type æè¿°â€˜ç±»å‹å…³ç³»â€™

### 39. TypeScript ä¸­ ?.ã€??ã€!ã€!.ã€\_ã€\*\* ç­‰ç¬¦å·çš„å«ä¹‰ï¼Ÿ

> `?. å¯é€‰é“¾` é‡åˆ° null å’Œ undefined å¯ä»¥ç«‹å³åœæ­¢è¡¨è¾¾å¼çš„è¿è¡Œã€‚\
> `?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦` å½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ– undefined æ—¶ï¼Œå…¶è¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„æ“ä½œæ•°ã€‚\
> `! éç©ºæ–­è¨€è¿ç®—ç¬¦` x! å°†ä» x å€¼åŸŸä¸­æ’é™¤ null å’Œ undefined\
> `!. `åœ¨å˜é‡ååæ·»åŠ ï¼Œå¯ä»¥æ–­è¨€æ’é™¤undefinedå’Œnullç±»å‹\
> `_ æ•°å­—åˆ†å‰²ç¬¦` åˆ†éš”ç¬¦ä¸ä¼šæ”¹å˜æ•°å€¼å­—é¢é‡çš„å€¼ï¼Œä½¿äººæ›´å®¹æ˜“è¯»æ‡‚æ•°å­— .e.g 1\_101\_324ã€‚\
> `** `æ±‚å¹‚

### 40. ç®€å•ä»‹ç»ä¸€ä¸‹ TypeScript æ¨¡å—çš„åŠ è½½æœºåˆ¶ï¼Ÿ

> å‡è®¾æœ‰ä¸€ä¸ªå¯¼å…¥è¯­å¥Â `import { a } from "moduleA"`;
>
> 1.  é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šå°è¯•å®šä½éœ€è¦å¯¼å…¥çš„æ¨¡å—æ–‡ä»¶ï¼Œé€šè¿‡ç»å¯¹æˆ–è€…ç›¸å¯¹çš„è·¯å¾„æŸ¥æ‰¾æ–¹å¼ï¼›
> 2.  å¦‚æœä¸Šé¢çš„è§£æå¤±è´¥äº†ï¼Œæ²¡æœ‰æŸ¥æ‰¾åˆ°å¯¹åº”çš„æ¨¡å—ï¼Œç¼–è¯‘å™¨ä¼šå°è¯•å®šä½ä¸€ä¸ª`å¤–éƒ¨æ¨¡å—å£°æ˜`ï¼ˆ.d.tsï¼‰ï¼›
> 3.  æœ€åï¼Œå¦‚æœç¼–è¯‘å™¨è¿˜æ˜¯ä¸èƒ½è§£æè¿™ä¸ªæ¨¡å—ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ `error TS2307: Cannot find module 'moduleA'.`

### 41. ç®€å•èŠèŠä½ å¯¹ TypeScript ç±»å‹å…¼å®¹æ€§çš„ç†è§£ï¼Ÿ

> `ts ç±»å‹å…¼å®¹ï¼š` å½“ä¸€ä¸ªç±»å‹ Y å¯ä»¥èµ‹å€¼ç»™å¦ä¸€ä¸ªç±»å‹ X æ—¶ï¼Œ æˆ‘ä»¬å°±å¯ä»¥è¯´ç±»å‹ X å…¼å®¹ç±»å‹ Yã€‚ä¹Ÿå°±æ˜¯è¯´ä¸¤è€…åœ¨ç»“æ„ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸ä¸€å®šéå¾—é€šè¿‡ extends çš„æ–¹å¼ç»§æ‰¿è€Œæ¥\
> `æ¥å£çš„å…¼å®¹æ€§ï¼šX = Y `åªè¦ç›®æ ‡ç±»å‹ X ä¸­å£°æ˜çš„å±æ€§å˜é‡åœ¨æºç±»å‹ Y ä¸­éƒ½å­˜åœ¨å°±æ˜¯å…¼å®¹çš„ï¼ˆ Y ä¸­çš„ç±»å‹å¯ä»¥æ¯” X ä¸­çš„å¤šï¼Œä½†æ˜¯ä¸èƒ½å°‘ï¼‰\
> `å‡½æ•°çš„å…¼å®¹æ€§ï¼šX = Y `Y çš„æ¯ä¸ªå‚æ•°å¿…é¡»èƒ½åœ¨ X é‡Œæ‰¾åˆ°å¯¹åº”ç±»å‹çš„å‚æ•°ï¼Œå‚æ•°çš„åå­—ç›¸åŒä¸å¦æ— æ‰€è°“ï¼Œåªçœ‹å®ƒä»¬çš„ç±»å‹ï¼ˆå‚æ•°å¯ä»¥å°‘ä½†æ˜¯ä¸èƒ½å¤šã€‚ä¸æ¥å£çš„å…¼å®¹æ€§æœ‰åŒºåˆ«ï¼ŒåŸå› å‚è€ƒç¬¬ 17 é—®ï¼‰

### 42. åå˜ã€é€†å˜ã€åŒå˜å’ŒæŠ—å˜çš„ç†è§£ï¼Ÿ

> `åå˜ï¼šX = Y `Y ç±»å‹å¯ä»¥èµ‹å€¼ç»™ X ç±»å‹çš„æƒ…å†µå°±å«åšåå˜ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ X ç±»å‹å…¼å®¹ Y ç±»å‹
>
>     typescript
>      ä»£ç è§£è¯»
>     å¤åˆ¶ä»£ç 
>     interface X { name: string; age: number; } 
>     interface Y { name: string; age: number; hobbies: string[] }
>     let x: X = { name: 'xiaoming', age: 16 }
>     let y: Y = { name: 'xiaohong', age: 18, hobbies: ['eat'] }
>     x = y
>
> `é€†å˜ï¼šprintY = printX` å‡½æ•°X ç±»å‹å¯ä»¥èµ‹å€¼ç»™å‡½æ•°Y ç±»å‹ï¼Œå› ä¸ºå‡½æ•°Y åœ¨è°ƒç”¨çš„æ—¶å€™å‚æ•°æ˜¯æŒ‰ç…§Yç±»å‹è¿›è¡Œçº¦æŸçš„ï¼Œä½†æ˜¯ç”¨åˆ°çš„æ˜¯å‡½æ•°Xçš„Xçš„å±æ€§å’Œæ–¹æ³•ï¼Œtsæ£€æŸ¥ç»“æœæ˜¯ç±»å‹å®‰å…¨çš„ã€‚è¿™ç§ç‰¹æ€§å°±å«åšé€†å˜ï¼Œå‡½æ•°çš„å‚æ•°æœ‰é€†å˜çš„æ€§è´¨ã€‚
>
> ```ts
> let printY: (y: Y) => void
> printY = (y) => { console.log(y.hobbies) }
> let printX: (x: X) => void
> printX = (x) => { console.log(x.name) }
> printY = printX
> ```
>
> `åŒå˜ï¼ˆåŒå‘åå˜ï¼‰ï¼šX = Yï¼›Y = X`çˆ¶ç±»å‹å¯ä»¥èµ‹å€¼ç»™å­ç±»å‹ï¼Œå­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ï¼Œæ—¢é€†å˜åˆåå˜ï¼Œå«åšâ€œåŒå‘åå˜â€ï¼ˆts2.x ä¹‹å‰æ”¯æŒè¿™ç§èµ‹å€¼ï¼Œä¹‹å ts åŠ äº†ä¸€ä¸ªç¼–è¯‘é€‰é¡¹ strictFunctionTypesï¼Œè®¾ç½®ä¸º true å°±åªæ”¯æŒå‡½æ•°å‚æ•°çš„é€†å˜ï¼Œè®¾ç½®ä¸º false åˆ™æ”¯æŒåŒå‘åå˜ï¼‰\
> `æŠ—å˜ï¼ˆä¸å˜ï¼‰ï¼š`éçˆ¶å­ç±»å‹ä¹‹é—´ä¸ä¼šå‘ç”Ÿå‹å˜ï¼Œåªè¦ç±»å‹ä¸ä¸€æ ·å°±ä¼šæŠ¥é”™

### 43. TypeScript ä¸­å¯¹è±¡å±•å¼€ä¼šæœ‰ä»€ä¹ˆå‰¯ä½œç”¨å—ï¼Ÿ

> 1.  å±•å¼€å¯¹è±¡åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ï¼›
> 2.  ä»…åŒ…å«å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§ï¼Œä¸å¯æšä¸¾çš„å±æ€§å°†ä¼šä¸¢å¤±ã€‚

### 44. ç±»å‹çš„å…¨å±€å£°æ˜å’Œå±€éƒ¨å£°æ˜

> å¦‚æœå£°æ˜æ–‡ä»¶å†…ä¸åŒ…å«`importã€export`ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å£°æ˜çš„ç±»å‹å°±ä¼šå˜æˆå…¨å±€å£°æ˜ã€‚åä¹‹ï¼Œè‹¥æ˜¯è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†`importã€export`ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶åŒ…å«çš„ç±»å‹å£°æ˜åˆ™ä¼šæ˜¯å±€éƒ¨å£°æ˜ï¼Œä¸ä¼šå½±å“åˆ°å…¨å±€å£°æ˜ã€‚

### 45. TypeScript ä¸­åŒåçš„ interface æˆ–è€…åŒåçš„ interface å’Œ class å¯ä»¥åˆå¹¶å—ï¼Ÿ

> åŒåçš„interfaceä¼šè‡ªåŠ¨åˆå¹¶ï¼ŒåŒåçš„interfaceå’Œclassä¼šè‡ªåŠ¨èšåˆã€‚

### 46. å¦‚ä½•ä½¿ TypeScript é¡¹ç›®å¼•å…¥å¹¶è¯†åˆ«ç¼–è¯‘ä¸º JavaScript çš„ npm åº“åŒ…ï¼Ÿ

> 1.  é€‰æ‹©å®‰è£… ts ç‰ˆæœ¬ï¼Œ`npm install @types/åŒ…å --save`ï¼›
> 2.  å¯¹äºæ²¡æœ‰ç±»å‹çš„ js åº“ï¼Œéœ€è¦ç¼–å†™åŒåçš„.d.tsæ–‡ä»¶

### 47. TypeScript çš„ tsconfig.json ä¸­æœ‰å“ªäº›é…ç½®é¡¹ä¿¡æ¯ï¼Ÿ

> ```json
> {
>   "files": [],
>   "include": [],
>   "exclude": [],
>   "compileOnSave": false,
>   "extends": "",
>   "compilerOptions": { ... }
> }
> ```
>
> `files`Â æ˜¯ä¸€ä¸ªæ•°ç»„åˆ—è¡¨ï¼Œé‡Œé¢åŒ…å«æŒ‡å®šæ–‡ä»¶çš„ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼Œç”¨æ¥æŒ‡å®šå¾…ç¼–è¯‘æ–‡ä»¶ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™åªä¼šç¼–è¯‘åŒ…å«åœ¨filesä¸­åˆ—å‡ºçš„æ–‡ä»¶ã€‚\
> `include & exclude` æŒ‡å®šç¼–è¯‘æŸäº›æ–‡ä»¶ï¼Œæˆ–è€…æŒ‡å®šæ’é™¤æŸäº›æ–‡ä»¶ã€‚\
> `compileOnSaveï¼štrue` è®©IDEåœ¨ä¿å­˜æ–‡ä»¶çš„æ—¶å€™æ ¹æ®tsconfig.jsoné‡æ–°ç”Ÿæˆæ–‡ä»¶ã€‚\
> `extends` å¯ä»¥é€šè¿‡æŒ‡å®šä¸€ä¸ªå…¶ä»–çš„tsconfig.jsonæ–‡ä»¶è·¯å¾„ï¼Œæ¥ç»§æ‰¿è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œçš„é…ç½®ã€‚\
> `compilerOptions` ç¼–è¯‘é…ç½®é¡¹ï¼Œå¦‚ä½•å¯¹å…·ä½“çš„tsæ–‡ä»¶è¿›è¡Œç¼–è¯‘

### 48. TypeScript ä¸­å¦‚ä½•è®¾ç½®æ¨¡å—å¯¼å…¥çš„è·¯å¾„åˆ«åï¼Ÿ

> é€šè¿‡ tsconfig.json ä¸­çš„ paths é¡¹æ¥é…ç½®:
>
> ```json
> { 
>   "compilerOptions": 
>     {
>       "baseUrl": ".", 
>       "paths": { 
>          "@helper/*": ["src/helper/*"], 
>          "@utils/*": ["src/utils/*"], 
>          ... 
>       } 
>    } 
> }
> ```

### 49. declareï¼Œdeclare globalæ˜¯ä»€ä¹ˆï¼Ÿ

> `declare` æ˜¯ç”¨æ¥å®šä¹‰å…¨å±€å˜é‡ã€å…¨å±€å‡½æ•°ã€å…¨å±€å‘½åç©ºé—´ã€js modulesã€classç­‰\
> `declare global` ä¸ºå…¨å±€å¯¹è±¡ `window` å¢åŠ æ–°çš„å±æ€§
>
> ```ts
> declare global { 
>    interface Window { 
>         csrf: string; 
>    }
> }
> ```

### 50. ç®€è¿°å·¥å…·ç±»å‹ `Exclude`ã€`Omit`ã€`Merge`ã€`Intersection`ã€`Overwrite`çš„ä½œç”¨ã€‚

> `Exclude<T, U>` ä»Â `T`Â ä¸­æ’é™¤å‡ºå¯åˆ†é…ç»™Â `U`çš„å…ƒç´ ã€‚\
> `Omit<T, K>` çš„ä½œç”¨æ˜¯å¿½ç•¥`T`ä¸­çš„æŸäº›å±æ€§ã€‚\
> `Merge<O1, O2>` æ˜¯å°†ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§åˆå¹¶ã€‚\
> `Compute<A & B>` æ˜¯å°†äº¤å‰ç±»å‹åˆå¹¶\
> `Intersection<T, U>`çš„ä½œç”¨æ˜¯å–`T`çš„å±æ€§,æ­¤å±æ€§åŒæ ·ä¹Ÿå­˜åœ¨ä¸`U`ã€‚\
> `Overwrite<T, U>` æ˜¯ç”¨`U`çš„å±æ€§è¦†ç›–`T`çš„ç›¸åŒå±æ€§ã€‚

### å‚è€ƒé“¾æ¥

[ğŸŒé‡å­¦ TS](https://juejin.cn/post/7211358106629750841?searchId=20240821103748901EA88DF3832F3F7272) <br>
[TS å…¥é—¨å®Œå…¨æŒ‡å—](https://juejin.cn/post/7215796935298596920?searchId=20240821103748901EA88DF3832F3F7272) <br>
[ã€ŠTS ç±»å‹æŒ‘æˆ˜é€šå…³æ‰‹å†Œã€‹](https://blog.maxiaobo.com.cn/type-challenge/dist/)

### ç»“å°¾

Â Â Â Â çœ‹åˆ°è¿™é‡Œç›¸ä¿¡å¤§å®¶åº”å¯¹TSæœ‰æ›´å¤šçš„äº†è§£ï¼Œæƒ³è¦æ•´èŠ±æ´»ï¼Œå¯ä»¥å»[type-challenges](https://github.com/type-challenges/type-challenges)ç…ç…ï¼Œåªæœ‰ä½ æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰TSåšä¸åˆ°ã€‚æœ€åå¦‚æœæœ¬æ–‡å¯¹å„ä½çœ‹å®˜è€çˆ·æœ‰å¸®åŠ©ï¼ŒåŠ³çƒ¦åŠ¨åŠ¨å‘è´¢çš„å°æ‰‹ç‚¹ä¸ªèµï¼Œæ„Ÿè°¢â¤ï¸ã€‚
